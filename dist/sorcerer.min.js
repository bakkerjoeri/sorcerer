/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./script/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./script/core/FileManager.js":
/*!************************************!*\
  !*** ./script/core/FileManager.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FileManager; });\nclass FileManager {\n\tstatic loadFile(url, type) {\n\t\tif (type === 'json') {\n\t\t\treturn loadJSON(url);\n\t\t}\n\n\t\tthrow new Error(`Unable to load files of type \"${type}\"`)\n\t}\n}\n\nfunction loadJSON(url) {\n\treturn fetch(url, {\n\t\tmethod: 'GET',\n\t\theaders: new Headers({\n\t\t\t'Content-Type': 'application/json'\n\t\t}),\n\t}).then((response) => {\n\t\treturn response.json();\n\t});\n}\n\n\n//# sourceURL=webpack:///./script/core/FileManager.js?");

/***/ }),

/***/ "./script/core/GameObject.js":
/*!***********************************!*\
  !*** ./script/core/GameObject.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GameObject; });\n/* harmony import */ var core_SpriteManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core/SpriteManager */ \"./script/core/SpriteManager.js\");\n\n\nconst DEFAULT_OPTIONS = {\n\tspriteName: '',\n\tposition: {\n\t\tx: 0,\n\t\ty: 0,\n\t},\n\tpositioning: 'absolute',\n\tsize: {\n\t\twidth: 0,\n\t\theight: 0,\n\t},\n\tsolid: true,\n\tvisible: true,\n\n};\n\nclass GameObject {\n\tconstructor(options = {}) {\n\t\toptions = Object.assign({}, DEFAULT_OPTIONS, options);\n\n\t\tthis.setSprite(options.spriteName);\n\t\tthis.setPosition(options.position);\n\t\tthis.setPositioning(options.positioning);\n\t\tthis.setSize(options.size);\n\t\tthis.setSolidity(options.solid);\n\t\tthis.setVisibility(options.visible);\n\n\t\tthis.events = new Map();\n\t}\n\n\tstep(time) {\n\t\tif (this.sprite) {\n\t\t\tthis.sprite.step(time);\n\t\t}\n\t}\n\n\tdraw(time, canvas, viewport) {\n\t\tlet context = canvas.getContext('2d');\n\n\t\tif (\n\t\t\tthis.hasOwnProperty('sprite')\n\t\t\t&& this.hasOwnProperty('position')\n\t\t\t&& this.position.hasOwnProperty('x')\n\t\t\t&& this.position.hasOwnProperty('y')\n\t\t) {\n\t\t\tlet spriteDrawPosition;\n\n\t\t\tif (this.positioning = 'absolute') {\n\t\t\t\tspriteDrawPosition = {\n\t\t\t\t\tx: this.position.x + this.sprite.origin.x - (viewport.position.x - viewport.origin.x), // should be viewport relative\n\t\t\t\t\ty: this.position.y + this.sprite.origin.y - (viewport.position.y - viewport.origin.y), // should be viewport relative\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tspriteDrawPosition = {\n\t\t\t\t\tx: this.position.x + this.sprite.origin.x,\n\t\t\t\t\ty: this.position.y + this.sprite.origin.y,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.sprite.draw(time, canvas, spriteDrawPosition);\n\t\t}\n\t}\n\n\tuseSpriteWithName(spriteName) {\n\t\tif (spriteName.length > 0) {\n\t\t\tthis.setSprite(core_SpriteManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(spriteName, 'SPRITE'));\n\t\t}\n\t}\n\n\tsetSprite(sprite) {\n\t\tthis.sprite = sprite;\n\t}\n\n\tsetPosition(position) {\n\t\tthis.position = position;\n\t}\n\n\tsetPositioning(positioning) {\n\t\tthis.positioning = positioning;\n\t}\n\n\tgetPosition() {\n\t\treturn this.position;\n\t}\n\n\tsetSolidity(solid) {\n\t\tthis.solid = solid;\n\t}\n\n\tsetVisibility(visible) {\n\t\tthis.visible = visible;\n\t}\n\n\tshow() {\n\t\tthis.setVisibility(true);\n\t}\n\n\thide() {\n\t\tthis.setVisibility(false);\n\t}\n\n\tisSolid() {\n\t\treturn this.solid;\n\t}\n\n\tisVisible() {\n\t\treturn this.visible;\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\t}\n\n\tgetSize() {\n\t\treturn this.size;\n\t}\n\n\tchangePosition(change) {\n\t\tlet currentPosition = this.getPosition();\n\n\t\tthis.setPosition({\n\t\t\tx: currentPosition.x + change.x,\n\t\t\ty: currentPosition.y + change.y,\n\t\t});\n\t}\n\n\taddEventListener(type, callback, options = {}, useCapture = true) {\n\t\t/**\n\t\t * Browsers that support the `passive` option are those that allow\n\t\t * for the usage of the options parameter in event listeners.\n\t\t *\n\t\t * See: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n\t\t */\n\t\tif (doesSupportPassive()) {\n\t\t\t/**\n\t\t\t * The following events should never `preventDefault()`, due to heavy\n\t\t\t * performance impact. The `passive` option enforces this, and\n\t\t\t * tells the browser not to expect any `preventDefault()``.\n\t\t\t *\n\t\t\t * See: https://developers.google.com/web/tools/lighthouse/audits/passive-event-listeners\n\t\t\t */\n\t\t\tif (type === 'wheel' || type === 'mousewheel' || type === 'touchstart' || type === 'touchmove') {\n\t\t\t\toptions.passive = true;\n\t\t\t}\n\n\t\t\twindow.addEventListener(type, callback, options, useCapture);\n\t\t} else {\n\t\t\twindow.addEventListener(type, callback, useCapture);\n\t\t}\n\n\t\treturn addEventToRegistry(this.events, type, callback, options, useCapture);\n\t}\n\n\tremoveEventListener(eventIdentifier) {\n\t\tif (this.events.has(eventIdentifier)) {\n\t\t\tlet eventToRemove = this.events.get(eventIdentifier);\n\n\t\t\twindow.removeEventListener(\n\t\t\t\teventToRemove.get('type'),\n\t\t\t\teventToRemove.get('callback'),\n\t\t\t\teventToRemove.get('options'),\n\t\t\t\teventToRemove.get('useCapture'),\n\t\t\t);\n\n\t\t\tthis.events.delete(eventIdentifier);\n\t\t}\n\t}\n\n\tremoveAllEventListeners() {\n\t\tfor (let eventIdentifier of this.events.keys()) {\n\t\t\tthis.removeEvent(eventIdentifier);\n\t\t}\n\t}\n}\n\nfunction addEventToRegistry(eventRegistry, type, callback, options, useCapture) {\n\tlet eventIdentifier = createUniqueIdentifierForMap(eventRegistry);\n\n\teventRegistry.set(eventIdentifier, new Map([\n\t\t['type', type],\n\t\t['callback', callback],\n\t\t['options', options],\n\t\t['useCapture', useCapture],\n\t]));\n\n\treturn eventIdentifier;\n}\n\nfunction createUniqueIdentifierForMap(map, length = 6) {\n\tconst HASH_STRING_START = 2;\n\tconst HASH_STRING_END = 2 + length;\n\n\tlet randomIdentifierString = Math.random().toString(36).substring(HASH_STRING_START, HASH_STRING_END);\n\n\tif (map.has(randomIdentifierString)) {\n\t\treturn createUniqueIdentifierForMap(map, length);\n\t}\n\n\treturn randomIdentifierString;\n}\n\n/**\n * Check if the browser knows about the `passive` option and actively looks for it.\n *\n * See: https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n */\nfunction doesSupportPassive() {\n\tlet supportsPassive = false;\n\n\ttry {\n\t\tlet options = Object.defineProperty({}, 'passive', {\n\t\t\tget: function() {\n\t\t\t\tsupportsPassive = true;\n\t\t\t}\n\t\t});\n\n\t\twindow.addEventListener('test', null, options);\n\t\twindow.removeEventListener('test', null, options);\n\t} catch (e) {\n\t\t// Do nothing\n\t}\n\n\treturn supportsPassive;\n}\n\n\n//# sourceURL=webpack:///./script/core/GameObject.js?");

/***/ }),

/***/ "./script/core/Room.js":
/*!*****************************!*\
  !*** ./script/core/Room.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Room; });\nclass Room {\n\tconstructor(size) {\n\t\tthis.setSize(size);\n\n\t\tthis.viewports = [];\n\t\tthis.entities = [];\n\t}\n\n\tstep(time) {\n\t\t// Update each gameObject\n\t\t// This should happen before updating the viewport, otherwise the viewport\n\t\t// follows entity position changes a step after they change position,\n\t\t// while the new position is already rendered.\n\t\tthis.entities.forEach((gameObject) => {\n\t\t\tgameObject.step(time);\n\t\t});\n\n\t\t// update the viewports\n\t\tthis.viewports.filter((viewport) => {\n\t\t\treturn viewport.isActive();\n\t\t}).forEach((activeViewport) => {\n\t\t\tactiveViewport.step(time);;\n\t\t});\n\t}\n\n\tdraw(time) {\n\t\t// draw each viewport\n\t\tthis.viewports.filter((viewport) => {\n\t\t\treturn viewport.isActive();\n\t\t}).forEach((activeViewport) => {\n\t\t\tactiveViewport.draw(time, this.canvas);\n\t\t});\n\t}\n\n\taddViewport(viewport) {\n\t\tthis.viewports.push(viewport);\n\t\tviewport.setRoom(this);\n\t}\n\n\tuseCanvas(canvas) {\n\t\tthis.canvas = canvas;\n\t\tthis.context = canvas.getContext('2d');\n\t}\n\n\taddGameObject(gameObject) {\n\t\tthis.entities.push(gameObject);\n\t}\n\n\tgetEntities() {\n\t\treturn this.entities;\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\t}\n\n\tgetSize() {\n\t\treturn this.size;\n\t}\n\n\tsetBackgroundColor(backgroundColor) {\n\t\tthis.backgroundColor = backgroundColor;\n\t}\n\n\tgetBackgroundColor() {\n\t\treturn this.backgroundColor;\n\t}\n\n\tdrawBackground(context, offset, size) {\n\t\tcontext.fillStyle = this.backgroundColor;\n\t\tcontext.fillRect(\n\t\t\toffset.x,\n\t\t\toffset.y,\n\t\t\tsize.width,\n\t\t\tsize.height,\n\t\t);\n\n\t\tcontext.strokeStyle = '#bad455';\n\t\tcontext.strokeRect(\n\t\t\toffset.x,\n\t\t\toffset.y,\n\t\t\tsize.width,\n\t\t\tsize.height,\n\t\t);\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/core/Room.js?");

/***/ }),

/***/ "./script/core/Sprite.js":
/*!*******************************!*\
  !*** ./script/core/Sprite.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Sprite; });\n/* harmony import */ var core_SpriteFrame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core/SpriteFrame */ \"./script/core/SpriteFrame.js\");\n\n\nconst DEFAULT_OPTIONS = {\n\torigin: {\n\t\tx: 0,\n\t\ty: 0,\n\t},\n\tframeIndex: 0,\n\tframesPerSecond: 1,\n\tlooping: true,\n};\n\nclass Sprite {\n\tstatic createFromDefinition(definition) {\n\t\tlet availableFrames = createFramesFromDefinition(definition);\n\n\t\tlet frames = definition.frames.map((frameName) => {\n\t\t\treturn availableFrames.find((frame) => {\n\t\t\t\treturn frame.getName() === frameName;\n\t\t\t});\n\t\t});\n\n\t\treturn new Sprite(frames, {\n\t\t\tframesPerSecond: definition.framesPerSecond || 0,\n\t\t\torigin: definition.origin || {x: 0, y: 0},\n\t\t});\n\t}\n\n\tconstructor(frames, options = {}) {\n\t\tthis.setFrames(frames);\n\n\t\toptions = Object.assign({}, DEFAULT_OPTIONS, options);\n\n\t\tif (options.hasOwnProperty('size')) {\n\t\t\tthis.size = options.size;\n\t\t} else {\n\t\t\tthis.size = calculateMaximumSizeFromFrames(this.getFrames());\n\t\t}\n\n\t\tthis.setOrigin(options.origin);\n\t\tthis.setCurrentFrameIndex(options.frameIndex);\n\t\tthis.setFramesPerSecond(options.framesPerSecond);\n\t\tthis.looping = options.looping;\n\n\t\tthis.timeOfPreviousFrame = 0;\n\t}\n\n\tsetFrames(frames = []) {\n\t\tif (Array.isArray(frames)) {\n\t\t\tthis.frames = frames;\n\t\t} else if (frames instanceof core_SpriteFrame__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n\t\t\tthis.frames = [frames];\n\t\t} else {\n\t\t\tthis.frames = [];\n\t\t}\n\t}\n\n\tgetFrames() {\n\t\treturn this.frames;\n\t}\n\n\tsetFramesPerSecond(framesPerSecond) {\n\t\tthis.framesPerSecond = framesPerSecond;\n\t}\n\n\tgetFramesPerSecond() {\n\t\treturn this.framesPerSecond;\n\t}\n\n\tsetCurrentFrameIndex(newCurrentFrameIndex) {\n\t\tif (this.frames[newCurrentFrameIndex]) {\n\t\t\tthis.currentFrameIndex = newCurrentFrameIndex;\n\t\t}\n\t}\n\n\tgetCurrentFrame() {\n\t\treturn this.frames[this.currentFrameIndex];\n\t}\n\n\tstep(time) {\n\t\tlet framesPerSecond = this.getFramesPerSecond();\n\n\t\tif (framesPerSecond !== 0 && !(!this.looping && this.currentFrameIndex === (this.frames.length - 1))) {\n\t\t\tlet timeSincePreviousFrame = time - this.timeOfPreviousFrame;\n\n\t\t\tlet frameChange = timeSincePreviousFrame / (1000 / framesPerSecond);\n\n\t\t\tif (frameChange > 0) {\n\t\t\t\tframeChange = Math.floor(frameChange);\n\t\t\t}\n\n\t\t\tif (frameChange < 0) {\n\t\t\t\tframeChange = Math.ceil(frameChange);\n\t\t\t}\n\n\t\t\tif (frameChange !== 0) {\n\t\t\t\tthis.timeOfPreviousFrame = time;\n\t\t\t\tthis.setCurrentFrameIndex(calculateNewFrameIndexWithChange(this.currentFrameIndex, frameChange, this.frames.length, this.looping));\n\t\t\t}\n\t\t}\n\t}\n\n\tdraw(time, canvas, position) {\n\t\tlet context = canvas.getContext('2d');\n\t\tlet currentFrame = this.getCurrentFrame();\n\n\t\tif (currentFrame) {\n\t\t\tcontext.drawImage(\n\t\t\t\tcurrentFrame.getImage(),\n\t\t\t\tcurrentFrame.getOrigin().x, currentFrame.getOrigin().y,\n\t\t\t\tcurrentFrame.getSize().width, currentFrame.getSize().height,\n\t\t\t\tposition.x, position.y,\n\t\t\t\tthis.size.width, this.size.height\n\t\t\t);\n\t\t}\n\t}\n\n\tnextFrame() {\n\t\tthis.currentFrameIndex = calculateNewFrameIndexWithChange(this.currentFrameIndex, 1, this.frames.length, this.looping);\n\t}\n\n\tpreviousFrame() {\n\t\tthis.currentFrameIndex = calculateNewFrameIndexWithChange(this.currentFrameIndex, -1, this.frames.length, this.looping);\n\t}\n\n\tsetOrigin(origin) {\n\t\tthis.origin = origin;\n\t}\n\n\tgetOrigin() {\n\t\treturn this.origin;\n\t}\n}\n\nfunction calculateNewFrameIndexWithChange(currentFrameIndex, change, amountOfFrames, looping = true) {\n\tchange = Math.round(change);\n\n\tif (change === 0) {\n\t\treturn currentFrameIndex;\n\t}\n\n\tif (looping) {\n\t\tlet newFrameIndex = (currentFrameIndex + change) % amountOfFrames\n\n\t\tif (newFrameIndex < 0) {\n\t\t\treturn newFrameIndex + amountOfFrames;\n\t\t}\n\n\t\treturn newFrameIndex;\n\t}\n\n\tif (!looping) {\n\t\tlet newFrameIndex = currentFrameIndex + change;\n\n\t\tif (newFrameIndex > (amountOfFrames - 1)) {\n\t\t\treturn (amountOfFrames - 1);\n\t\t}\n\n\t\tif (newFrameIndex < 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn newFrameIndex;\n\t}\n}\n\nfunction calculateMaximumSizeFromFrames(frames) {\n\tlet biggestWidth = 0;\n\tlet biggestHeight = 0;\n\n\tframes.forEach((frame) => {\n\t\tif (frame.size.width > biggestWidth) {\n\t\t\tbiggestWidth = frame.size.width;\n\t\t}\n\n\t\tif (frame.size.height > biggestHeight) {\n\t\t\tbiggestHeight = frame.size.height;\n\t\t}\n\t});\n\n\treturn {\n\t\twidth: biggestWidth,\n\t\theight: biggestHeight,\n\t}\n}\n\nfunction createFramesFromDefinition(definition) {\n\tlet frames = [];\n\n\tif (definition.hasOwnProperty('file')) {\n\t\tlet image = new Image();\n\t\timage.src = definition.file;\n\n\t\tdefinition.cells.forEach((frameData) => {\n\t\t\tlet frame = new core_SpriteFrame__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n\t\t\t\tframeData.name,\n\t\t\t\timage,\n\t\t\t\tframeData.origin,\n\t\t\t\tframeData.size\n\t\t\t);\n\n\t\t\tframes.push(frame);\n\t\t});\n\t}\n\n\treturn frames;\n}\n\n\n//# sourceURL=webpack:///./script/core/Sprite.js?");

/***/ }),

/***/ "./script/core/SpriteFrame.js":
/*!************************************!*\
  !*** ./script/core/SpriteFrame.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SpriteFrame; });\nclass SpriteFrame {\n\tconstructor(name, image, origin, size) {\n\t\tthis.setName(name);\n\t\tthis.setImage(image);\n\t\tthis.setOrigin(origin);\n\t\tthis.setSize(size);\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\t}\n\n\tsetImage(image) {\n\t\tthis.imageLoaded = false;\n\t\tthis.image = image;\n\n\t\tthis.image.addEventListener('load', () => {\n\t\t\tthis.imageLoaded = true;\n\t\t});\n\t}\n\n\tsetOrigin(origin) {\n\t\tthis.origin = origin;\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tgetImage() {\n\t\treturn this.image;\n\t}\n\n\tgetOrigin() {\n\t\treturn this.origin;\n\t}\n\n\tgetSize() {\n\t\treturn this.size;\n\t}\n\n\tonImageLoaded(callback) {\n\t\tif (this.imageLoaded) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tthis.image.addEventListener('load', callback);\n\t\t}\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/core/SpriteFrame.js?");

/***/ }),

/***/ "./script/core/SpriteManager.js":
/*!**************************************!*\
  !*** ./script/core/SpriteManager.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SpriteManager; });\n/* harmony import */ var core_Sprite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core/Sprite */ \"./script/core/Sprite.js\");\n/* harmony import */ var core_FileManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core/FileManager */ \"./script/core/FileManager.js\");\n\n\n\nconst SPRITE = 'SPRITE';\n\nconst assets = new Map();\nlet library;\n\nclass SpriteManager {\n\tstatic async loadLibrary(libraryUrl) {\n\t\tlibrary = this.library = await core_FileManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loadFile(libraryUrl, 'json');\n\t}\n\n\tstatic get(name, type) {\n\t\tif (!assets.has(name)) {\n\t\t\tif (type === SPRITE) {\n\t\t\t\tassets.set(name, getSprite(name));\n\t\t\t}\n\t\t}\n\n\t\treturn assets.get(name);\n\t}\n}\n\nfunction getSprite(name) {\n\tlet spriteDefinition = library.find((sprite) => {\n\t\treturn sprite.name === name;\n\t});\n\n\tif (!spriteDefinition) {\n\t\tthrow new Error(`No sprite found for \"${name}\"`);\n\t}\n\n\tlet sprite = core_Sprite__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createFromDefinition(spriteDefinition);\n\n\treturn sprite;\n}\n\n\n//# sourceURL=webpack:///./script/core/SpriteManager.js?");

/***/ }),

/***/ "./script/core/Viewport.js":
/*!*********************************!*\
  !*** ./script/core/Viewport.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Viewport; });\nconst DEFAULT_OPTIONS = {\n\tposition: {\n\t\tx: 0,\n\t\ty: 0,\n\t},\n\torigin: {\n\t\tx: 0,\n\t\ty: 0,\n\t},\n\tactive: true,\n};\n\nclass Viewport {\n\tconstructor(size, options = {}) {\n\t\tthis.setSize(size);\n\n\t\toptions = Object.assign({}, DEFAULT_OPTIONS, options);\n\t\tthis.position = options.position;\n\t\tthis.origin = options.origin;\n\n\t\tif (options.active) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\t}\n\n\tactivate() {\n\t\tthis.active = true;\n\t}\n\n\tdeactivate() {\n\t\tthis.active = false;\n\t}\n\n\tisActive() {\n\t\treturn this.active;\n\t}\n\n\tsetRoom(room) {\n\t\tthis.room = room;\n\t}\n\n\tfollowGameObject(gameObject) {\n\t\tthis.gameObjectToFollow = gameObject;\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\t}\n\n\tstep() {\n\t\t// update position to follow gameObject\n\t\tif (this.gameObjectToFollow && this.gameObjectToFollow.sprite && this.gameObjectToFollow.sprite.size) {\n\t\t\tlet newViewportPosition = {\n\t\t\t\tx: this.gameObjectToFollow.position.x - (this.size.width / 2) + (this.gameObjectToFollow.sprite.size.width / 2),\n\t\t\t\ty: this.gameObjectToFollow.position.y - (this.size.height / 2) + (this.gameObjectToFollow.sprite.size.height / 2),\n\t\t\t};\n\n\t\t\tif (newViewportPosition.x < 0) {\n\t\t\t\tnewViewportPosition.x = 0;\n\t\t\t}\n\n\t\t\tif (newViewportPosition.y < 0) {\n\t\t\t\tnewViewportPosition.y = 0;\n\t\t\t}\n\n\t\t\t// TODO: Remove dependency on `room`.\n\t\t\tif (newViewportPosition.x > (this.room.size.width - this.size.width)) {\n\t\t\t\tnewViewportPosition.x = this.room.size.width - this.size.width;\n\t\t\t}\n\n\t\t\tif (newViewportPosition.y > (this.room.size.height - this.size.height)) {\n\t\t\t\tnewViewportPosition.y = this.room.size.height - this.size.height;\n\t\t\t}\n\n\t\t\tthis.position = newViewportPosition;\n\t\t}\n\t}\n\n\tdraw(time, canvas) {\n\t\tlet context = canvas.getContext('2d');\n\n\t\t// Clear viewport\n\t\tthis.clearDrawing(canvas.getContext('2d'));\n\n\t\t// draw room background\n\t\tthis.room.drawBackground(context, {\n\t\t\tx: this.origin.x,\n\t\t\ty: this.origin.y,\n\t\t}, {\n\t\t\twidth: this.size.width,\n\t\t\theight: this.size.height,\n\t\t});\n\n\t\t// draw all entities\n\t\tthis.room.entities.filter((gameObject) => {\n\t\t\treturn gameObject.visible\n\t\t}).forEach((visibleGameObject) => {\n\t\t\tvisibleGameObject.draw(time, canvas, this);\n\t\t});\n\t}\n\n\tdrawMiddle(context) {\n\t\tcontext.strokeStyle = '#bad455';\n\n\t\tcontext.beginPath();\n\t\tcontext.moveTo(this.origin.x, this.origin.y);\n\t\tcontext.lineTo(this.origin.x + this.size.width, this.origin.y + this.size.height);\n\t\tcontext.stroke();\n\n\t\tcontext.beginPath();\n\t\tcontext.moveTo(this.origin.x + this.size.width, this.origin.y);\n\t\tcontext.lineTo(this.origin.x, this.origin.y + this.size.height);\n\t\tcontext.stroke();\n\t}\n\n\tclearDrawing(context) {\n\t\tcontext.clearRect(\n\t\t\tthis.origin.x,\n\t\t\tthis.origin.y,\n\t\t\tthis.size.width,\n\t\t\tthis.size.height\n\t\t);\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/core/Viewport.js?");

/***/ }),

/***/ "./script/goal/MoveEast.js":
/*!*********************************!*\
  !*** ./script/goal/MoveEast.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MoveEast; });\n/* harmony import */ var module_Goal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! module/Goal */ \"./script/module/Goal.js\");\n\n\nclass MoveEast extends module_Goal__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(originalGoal) {\n\t\tsuper(originalGoal);\n\n\t\tthis.moved = false;\n\t}\n\n\ttakeAction(actor) {\n\t\treturn new Promise((success, fail) => {\n\t\t\tif (actor.dead) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tlet newLevelPosition = {\n\t\t\t\tx: actor.positionInLevel.x + 1,\n\t\t\t\ty: actor.positionInLevel.y,\n\t\t\t};\n\n\t\t\tif (!actor.canMoveToPosition(newLevelPosition)) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tactor.moveTo(newLevelPosition);\n\t\t\tthis.moved = true;\n\n\t\t\treturn success();\n\t\t});\n\t}\n\n\tisFinished() {\n\t\treturn this.moved;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/goal/MoveEast.js?");

/***/ }),

/***/ "./script/goal/MoveNorth.js":
/*!**********************************!*\
  !*** ./script/goal/MoveNorth.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MoveNorth; });\n/* harmony import */ var module_Goal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! module/Goal */ \"./script/module/Goal.js\");\n\n\nclass MoveNorth extends module_Goal__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(originalGoal) {\n\t\tsuper(originalGoal);\n\n\t\tthis.moved = false;\n\t}\n\n\ttakeAction(actor) {\n\t\treturn new Promise((success, fail) => {\n\t\t\tif (actor.dead) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tlet newLevelPosition = {\n\t\t\t\tx: actor.positionInLevel.x,\n\t\t\t\ty: actor.positionInLevel.y - 1,\n\t\t\t};\n\n\t\t\tif (!actor.canMoveToPosition(newLevelPosition)) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tactor.moveTo(newLevelPosition);\n\t\t\tthis.moved = true;\n\n\t\t\treturn success();\n\t\t});\n\t}\n\n\tisFinished() {\n\t\treturn this.moved;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/goal/MoveNorth.js?");

/***/ }),

/***/ "./script/goal/MoveSouth.js":
/*!**********************************!*\
  !*** ./script/goal/MoveSouth.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MoveSouth; });\n/* harmony import */ var module_Goal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! module/Goal */ \"./script/module/Goal.js\");\n\n\nclass MoveSouth extends module_Goal__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(originalGoal) {\n\t\tsuper(originalGoal);\n\n\t\tthis.moved = false;\n\t}\n\n\ttakeAction(actor) {\n\t\treturn new Promise((success, fail) => {\n\t\t\tif (actor.dead) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tlet newLevelPosition = {\n\t\t\t\tx: actor.positionInLevel.x,\n\t\t\t\ty: actor.positionInLevel.y + 1,\n\t\t\t};\n\n\t\t\tif (!actor.canMoveToPosition(newLevelPosition)) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tactor.moveTo(newLevelPosition);\n\t\t\tthis.moved = true;\n\n\t\t\treturn success();\n\t\t});\n\t}\n\n\tisFinished() {\n\t\treturn this.moved;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/goal/MoveSouth.js?");

/***/ }),

/***/ "./script/goal/MoveWest.js":
/*!*********************************!*\
  !*** ./script/goal/MoveWest.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MoveWest; });\n/* harmony import */ var module_Goal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! module/Goal */ \"./script/module/Goal.js\");\n\n\nclass MoveWest extends module_Goal__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(originalGoal) {\n\t\tsuper(originalGoal);\n\n\t\tthis.moved = false;\n\t}\n\n\ttakeAction(actor) {\n\t\treturn new Promise((success, fail) => {\n\t\t\tif (actor.dead) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tlet newLevelPosition = {\n\t\t\t\tx: actor.positionInLevel.x - 1,\n\t\t\t\ty: actor.positionInLevel.y,\n\t\t\t};\n\n\t\t\tif (!actor.canMoveToPosition(newLevelPosition)) {\n\t\t\t\treturn fail();\n\t\t\t}\n\n\t\t\tactor.moveTo(newLevelPosition);\n\t\t\tthis.moved = true;\n\n\t\t\treturn success();\n\t\t});\n\t}\n\n\tisFinished() {\n\t\treturn this.moved;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/goal/MoveWest.js?");

/***/ }),

/***/ "./script/goal/Wander.js":
/*!*******************************!*\
  !*** ./script/goal/Wander.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Wander; });\n/* harmony import */ var module_Goal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! module/Goal */ \"./script/module/Goal.js\");\n/* harmony import */ var goal_MoveNorth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! goal/MoveNorth */ \"./script/goal/MoveNorth.js\");\n/* harmony import */ var goal_MoveEast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! goal/MoveEast */ \"./script/goal/MoveEast.js\");\n/* harmony import */ var goal_MoveSouth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! goal/MoveSouth */ \"./script/goal/MoveSouth.js\");\n/* harmony import */ var goal_MoveWest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! goal/MoveWest */ \"./script/goal/MoveWest.js\");\n\n\n\n\n\n\nclass Wander extends module_Goal__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\ttakeAction(actor) {\n\t\treturn new Promise((success) => {\n\t\t\tif (!actor.canMove()) {\n\t\t\t\tactor.wait();\n\t\t\t\treturn success();\n\t\t\t}\n\n\t\t\tlet howManyTimes = Math.floor(Math.random() * (4 - 1 + 1)) + 1;\n\n\t\t\tfor(let t = 0; t < howManyTimes; t++) {\n\t\t\t\tlet direction = Math.floor(Math.random() * (3 + 1));\n\n\t\t\t\tif (direction === 0) {\n\t\t\t\t\tthis.subGoals.push(new goal_MoveNorth__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this));\n\t\t\t\t}\n\n\t\t\t\tif (direction === 1) {\n\t\t\t\t\tthis.subGoals.push(new goal_MoveEast__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this));\n\t\t\t\t}\n\n\t\t\t\tif (direction === 2) {\n\t\t\t\t\tthis.subGoals.push(new goal_MoveSouth__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this));\n\t\t\t\t}\n\n\t\t\t\tif (direction === 3) {\n\t\t\t\t\tthis.subGoals.push(new goal_MoveWest__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn success();\n\t\t});\n\t}\n\n\tisFinished() {\n\t\treturn false;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/goal/Wander.js?");

/***/ }),

/***/ "./script/main.js":
/*!************************!*\
  !*** ./script/main.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_Room__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core/Room */ \"./script/core/Room.js\");\n/* harmony import */ var core_Viewport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core/Viewport */ \"./script/core/Viewport.js\");\n/* harmony import */ var core_SpriteManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core/SpriteManager */ \"./script/core/SpriteManager.js\");\n/* harmony import */ var module_Game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! module/Game */ \"./script/module/Game.js\");\n/* harmony import */ var module_Level__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! module/Level */ \"./script/module/Level.js\");\n/* harmony import */ var object_Dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! object/Dialog */ \"./script/object/Dialog.js\");\n/* harmony import */ var object_Player__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! object/Player */ \"./script/object/Player.js\");\n/* harmony import */ var object_NonPlayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! object/NonPlayer */ \"./script/object/NonPlayer.js\");\n/* harmony import */ var object_Structure__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! object/Structure */ \"./script/object/Structure.js\");\n/* harmony import */ var resource_creature_Knight__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! resource/creature/Knight */ \"./script/resource/creature/Knight.js\");\n/* harmony import */ var resource_creature_GreenKnight__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! resource/creature/GreenKnight */ \"./script/resource/creature/GreenKnight.js\");\n/* harmony import */ var resource_creature_Slime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! resource/creature/Slime */ \"./script/resource/creature/Slime.js\");\n/* harmony import */ var resource_creature_KingSlime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! resource/creature/KingSlime */ \"./script/resource/creature/KingSlime.js\");\n/* harmony import */ var resource_structure_Tree__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! resource/structure/Tree */ \"./script/resource/structure/Tree.js\");\n/* harmony import */ var resource_structure_Wall__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! resource/structure/Wall */ \"./script/resource/structure/Wall.js\");\n/* harmony import */ var resource_structure_Grave__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! resource/structure/Grave */ \"./script/resource/structure/Grave.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst CANVAS_SIZE_WIDTH = 240;\nconst CANVAS_SIZE_HEIGHT = 176;\nconst MAP_SIZE_WIDTH = 36;\nconst MAP_SIZE_HEIGHT = 24;\nconst TILE_SIZE = 16;\n\nload();\n\nasync function load() {\n\tawait core_SpriteManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadLibrary('assets/sprites.json');\n\n\t// create canvas\n\tconst canvas = document.querySelector('.canvas__sorcerer');\n\tcanvas.width = CANVAS_SIZE_WIDTH;\n\tcanvas.height = CANVAS_SIZE_HEIGHT;\n\n\t// Create room\n\tconst room = new core_Room__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n\t\twidth: MAP_SIZE_WIDTH * TILE_SIZE,\n\t\theight: MAP_SIZE_HEIGHT * TILE_SIZE,\n\t});\n\troom.setBackgroundColor('#000');\n\troom.useCanvas(canvas);\n\n\t// Create world map\n\tconst level = new module_Level__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n\t\twidth: MAP_SIZE_WIDTH,\n\t\theight: MAP_SIZE_HEIGHT,\n\t}, room);\n\n\t// Create the player\n\tconst player = new object_Player__WEBPACK_IMPORTED_MODULE_6__[\"default\"](resource_creature_GreenKnight__WEBPACK_IMPORTED_MODULE_10__[\"GreenKnight\"]);\n\n\t// Fill world map with all entities.\n\tlevel.addActor(player, {\n\t\tx: MAP_SIZE_WIDTH / 2,\n\t\ty: MAP_SIZE_HEIGHT / 2,\n\t});\n\n\tfillLevel(level);\n\n\t// Create a Viewport\n\tconst playerViewport = new core_Viewport__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({width: CANVAS_SIZE_WIDTH, height: CANVAS_SIZE_HEIGHT}, {\n\t\torigin: {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t},\n\t});\n\tplayerViewport.followGameObject(player);\n\troom.addViewport(playerViewport);\n\n\t// Assemble the game!\n\tconst game = new module_Game__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n\t\troom: room,\n\t\tlevel: level,\n\t});\n\tgame.start();\n}\n\nfunction fillLevel(level) {\n\tlevel.forEachTile((tile) => {\n\t\tif (!tile.hasSolidEntities()) {\n\t\t\tif (onChance(40)) {\n\t\t\t\tlevel.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_7__[\"default\"](resource_creature_Slime__WEBPACK_IMPORTED_MODULE_11__[\"Slime\"]), tile.position);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (onChance(240)) {\n\t\t\t\tlevel.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_7__[\"default\"](resource_creature_Knight__WEBPACK_IMPORTED_MODULE_9__[\"Knight\"]), tile.position);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (onChance(40)) {\n\t\t\t\tlevel.addStructure(new object_Structure__WEBPACK_IMPORTED_MODULE_8__[\"default\"](resource_structure_Tree__WEBPACK_IMPORTED_MODULE_13__[\"Tree\"]), tile.position);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (onChance(200)) {\n\t\t\t\tlevel.addStructure(new object_Structure__WEBPACK_IMPORTED_MODULE_8__[\"default\"](resource_structure_Grave__WEBPACK_IMPORTED_MODULE_15__[\"Grave\"]), tile.position);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (onChance(80)) {\n\t\t\t\tlevel.addStructure(new object_Structure__WEBPACK_IMPORTED_MODULE_8__[\"default\"](resource_structure_Wall__WEBPACK_IMPORTED_MODULE_14__[\"Wall\"]), tile.position);\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\t!level.hasSolidEntitiesInBoundaries(tile.position, resource_creature_KingSlime__WEBPACK_IMPORTED_MODULE_12__[\"KingSlime\"].size)\n\t\t\t&& level.areBoundariesWithinLevelBoundaries(tile.position, resource_creature_KingSlime__WEBPACK_IMPORTED_MODULE_12__[\"KingSlime\"].size)\n\t\t) {\n\t\t\tif (onChance(240)) {\n\t\t\t\tlevel.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_7__[\"default\"](resource_creature_KingSlime__WEBPACK_IMPORTED_MODULE_12__[\"KingSlime\"]), tile.position);\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction onChance(denominator) {\n\treturn Math.round(Math.random() * denominator) === 1;\n}\n\n\n//# sourceURL=webpack:///./script/main.js?");

/***/ }),

/***/ "./script/module/Brain.js":
/*!********************************!*\
  !*** ./script/module/Brain.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Brain; });\nclass Brain {\n\tconstructor(owner) {\n\t\tthis.owner = owner;\n\t\tthis.goals = [];\n\t}\n\n\tact() {\n\t\tthis.processGoal(this.goals[0]);\n\t}\n\n\tprocessGoal(goal) {\n\t\t// If the goal is finished, it removes itself from its parent’s subgoals and traversal resumes from the parent.\n\t\tif (goal.isFinished()) {\n\t\t\tif (goal.originalGoal) {\n\t\t\t\tgoal.originalGoal.subGoals.splice(goal.originalGoal.subGoals.indexOf(goal), 1);\n\n\t\t\t\tthis.processGoal(goal.originalGoal);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// If the goal has no subgoals, we execute the goal’s action.\n\t\tif (goal.subGoals.length === 0) {\n\t\t\tgoal.takeAction(this.owner)\n\t\t\t\t// If the goal fails to execute, all its parent’s subgoals are removed and traversal is resumed from that parent goal.\n\t\t\t\t.catch(() => {\n\t\t\t\t\tgoal.originalGoal.subGoals.length = 0;\n\n\t\t\t\t\treturn this.processGoal(goal.originalGoal);\n\t\t\t\t});\n\t\t}\n\n\t\t// If now there are subgoals, traversal continues.\n\t\tif (goal.subGoals.length > 0) {\n\t\t\treturn this.processGoal(goal.subGoals[0]);\n\t\t}\n\n\t\t// If now there are no subgoals, traversal ends and the turn is over.\n\t\treturn;\n\t}\n\n\tprocessFinishedGoal(goal) {\n\t\tgoal.originalGoal.subGoals.splice(goal.originalGoal.subGoals.indexOf(goal), 1);\n\t}\n\n\tprocessFailedGoal(goal) {\n\t\tgoal.originalGoal.subGoals.length = 0;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/module/Brain.js?");

/***/ }),

/***/ "./script/module/Game.js":
/*!*******************************!*\
  !*** ./script/module/Game.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Game; });\n/* harmony import */ var _Ticker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ticker */ \"./script/module/Ticker.js\");\n\n\nclass Game {\n\tconstructor(options = {}) {\n\t\tthis.room = options.room;\n\t\tthis.level = options.level;\n\t}\n\n\tstart() {\n\t\tif (!this.level) {\n\t\t\tthrow new Error('Cannot start without a level.');\n\t\t}\n\n\t\twindow.requestAnimationFrame(this.loop.bind(this));\n\t\t_Ticker__WEBPACK_IMPORTED_MODULE_0__[\"default\"].startTicking(this.level.actors);\n\t}\n\n\tloop(time) {\n\t\tif (!this.room) {\n\t\t\tthrow new Error('Cannot start updating without a room.');\n\t\t}\n\n\t\tthis.room.step(time);\n\t\tthis.room.draw(time);\n\n\t\twindow.requestAnimationFrame(this.loop.bind(this));\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/module/Game.js?");

/***/ }),

/***/ "./script/module/Goal.js":
/*!*******************************!*\
  !*** ./script/module/Goal.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Goal; });\nclass Goal {\n\tconstructor(originalGoal) {\n\t\tthis.subGoals = [];\n\t\tthis.originalGoal = originalGoal;\n\t}\n\n\ttakeAction() {\n\t\tthrow new Error('This method should be implemented.');\n\t}\n\n\tisFinished() {\n\t\tthrow new Error('This method should be implemented.');\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/module/Goal.js?");

/***/ }),

/***/ "./script/module/Level.js":
/*!********************************!*\
  !*** ./script/module/Level.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Level; });\n/* harmony import */ var _module_Tile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../module/Tile */ \"./script/module/Tile.js\");\n\n\nclass Level {\n\tconstructor(size, room) {\n\t\tthis.size = size;\n\t\tthis.room = room;\n\t\tthis.tiles = createTilesetWithSize(size)\n\t\tthis.actors = [];\n\t\tthis.structures = [];\n\t}\n\n\taddActor(actor, position) {\n\t\tactor.level = this;\n\t\tthis.actors.push(actor);\n\n\t\tthis.forEachTileInBoundaries(position, actor.sizeInLevel, (tile) => {\n\t\t\ttile.addActor(actor);\n\t\t});\n\n\t\tactor.setPositionInLevel(position);\n\t\tthis.room.addGameObject(actor);\n\t}\n\n\taddStructure(structure, position) {\n\t\tstructure.level = this;\n\t\tthis.structures.push(structure);\n\n\t\tthis.forEachTileInBoundaries(position, structure.sizeInLevel, (tile) => {\n\t\t\ttile.addStructure(structure);\n\t\t});\n\n\t\tstructure.setPositionInLevel(position);\n\t\tthis.room.addGameObject(structure);\n\t}\n\n\tfindTileAtPosition(position) {\n\t\treturn this.tiles[position.x][position.y];\n\t}\n\n\tforEachTile(callback) {\n\t\tthis.tiles.forEach((tileRow) => {\n\t\t\ttileRow.forEach(callback);\n\t\t});\n\t}\n\n\tforEachTileInBoundaries(position, size, callback) {\n\t\tfor (let x = position.x; x < position.x + size.width; x = x + 1) {\n\t\t\tfor (let y = position.y; y < position.y + size.height; y = y + 1) {\n\t\t\t\tlet tilePosition = {x: x, y: y};\n\n\t\t\t\tif (this.hasTileAtPosition(tilePosition)) {\n\t\t\t\t\tcallback(this.findTileAtPosition(tilePosition));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\thasTileAtPosition(position) {\n\t\treturn Boolean(\n\t\t\tthis.tiles[position.x]\n\t\t\t&& this.tiles[position.x][position.y]\n\t\t);\n\t}\n\n\tmoveActorFromPositionToPosition(actor, oldPosition, newPosition) {\n\t\tthis.forEachTileInBoundaries(oldPosition, actor.sizeInLevel, (tile) => {\n\t\t\ttile.removeActor(actor);\n\t\t});\n\n\t\tthis.forEachTileInBoundaries(newPosition, actor.sizeInLevel, (tile) => {\n\t\t\ttile.addActor(actor);\n\t\t});\n\n\t\tactor.setPositionInLevel(newPosition);\n\t}\n\n\tgetSolidEntitiesInBoundaries(position, size, exclude = []) {\n\t\tlet solidEntities = [];\n\n\t\tthis.forEachTileInBoundaries(position, size, (tile) => {\n\t\t\tsolidEntities = solidEntities.concat(tile.getSolidEntities(exclude));\n\t\t});\n\n\t\treturn solidEntities;\n\t}\n\n\thasSolidEntitiesInBoundaries(position, size, exclude = []) {\n\t\treturn this.getSolidEntitiesInBoundaries(position, size, exclude).length > 0;\n\t}\n\n\tgetSolidActorsInBoundaries(position, size, exclude = []) {\n\t\tlet solidActors = [];\n\n\t\tthis.forEachTileInBoundaries(position, size, (tile) => {\n\t\t\tsolidActors = solidActors.concat(tile.getSolidActors(exclude));\n\t\t});\n\n\t\treturn solidActors;\n\t}\n\n\thasSolidActorsInBoundaries(position, size, exclude = []) {\n\t\treturn this.getSolidActorsInBoundaries(position, size, exclude).length > 0;\n\t}\n\n\tareBoundariesWithinLevelBoundaries(position, size) {\n\t\treturn position.x >= 0\n\t\t\t&& position.y >= 0\n\t\t\t&& position.x + size.width <= this.size.width\n\t\t\t&& position.y + size.height <=  this.size.height;\n\t}\n}\n\nfunction createTilesetWithSize(size) {\n\tlet tiles = [];\n\n\tfor(let x = 0; x < size.width; x += 1) {\n\t\ttiles[x] = [];\n\n\t\tfor(let y = 0; y < size.height; y += 1) {\n\t\t\ttiles[x][y] = new _module_Tile__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({x: x, y: y});\n\t\t}\n\t}\n\n\treturn tiles;\n}\n\n\n//# sourceURL=webpack:///./script/module/Level.js?");

/***/ }),

/***/ "./script/module/Log.js":
/*!******************************!*\
  !*** ./script/module/Log.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Log; });\nconst logElement = document.querySelector('.js-log')\n\nclass Log {\n\tstatic showMessage(message) {\n\t\tlet messageElement = document.createElement('li');\n\t\tmessageElement.classList.add('log__item');\n\t\tmessageElement.innerHTML = message;\n\t\tlogElement.appendChild(messageElement);\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/module/Log.js?");

/***/ }),

/***/ "./script/module/Ticker.js":
/*!*********************************!*\
  !*** ./script/module/Ticker.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Ticker; });\nconst scheduledActions = [];\n\nclass Ticker {\n\tstatic startTicking() {\n\t\ttick(scheduledActions);\n\t}\n\n\tstatic schedule(action, time) {\n\t\tif (time < 0) {\n\t\t\tthrow new Error('Cannot schedule an item in the past');\n\t\t}\n\n\t\tscheduledActions.push({\n\t\t\taction: action,\n\t\t\ttime: time,\n\t\t});\n\t}\n\n\tstatic unschedule(action) {\n\t\tscheduledActions.splice(scheduledActions.indexOf(action), 1);\n\t}\n}\n\nasync function tick(schedule) {\n\t// We check all items from a clone of the schedule, so any mutations that happen\n\t// during the executed actions don't mess up the loop order.\n\tfor (let scheduledItem of schedule.slice(0)) {\n\t\tif (scheduledItem.time === 0) {\n\t\t\tawait scheduledItem.action();\n\t\t\tschedule.splice(schedule.indexOf(scheduledItem), 1);\n\t\t}\n\t}\n\n\t// Reduce the time of all items currently in the schedule with 1.\n\tschedule.forEach((scheduledItem) => {\n\t\tif (scheduledItem.time > 0) {\n\t\t\tscheduledItem.time = scheduledItem.time - 1;\n\t\t} else {\n\t\t\tscheduledItem.time = 0;\n\t\t}\n\t});\n\n\ttick(schedule);\n}\n\n\n//# sourceURL=webpack:///./script/module/Ticker.js?");

/***/ }),

/***/ "./script/module/Tile.js":
/*!*******************************!*\
  !*** ./script/module/Tile.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Tile; });\nclass Tile {\n\tconstructor(position) {\n\t\tthis.position = position;\n\t\tthis.actors = [];\n\t\tthis.structures = [];\n\t}\n\n\taddActor(actor) {\n\t\tthis.actors.push(actor);\n\t}\n\n\tremoveActor(actor) {\n\t\tlet actorIndex = this.actors.indexOf(actor);\n\n\t\tif (actorIndex !== -1) {\n\t\t\tthis.actors.splice(actorIndex, 1);\n\t\t}\n\t}\n\n\taddStructure(structure) {\n\t\tthis.structures.push(structure);\n\t}\n\n\tremoveStructure(structure) {\n\t\tlet structureIndex = this.structures.findIndex(structure);\n\n\t\tif (structureIndex !== -1) {\n\t\t\tthis.actors.splice(structureIndex, 1);\n\t\t}\n\t}\n\n\tgetEntities() {\n\t\treturn this.structures.concat(this.actors);\n\t}\n\n\tgetActors() {\n\t\treturn this.actors;\n\t}\n\n\tgetSolidEntities(exclude = []) {\n\t\tlet entities = this.getEntities();\n\n\t\treturn entities.filter((gameObject) => {\n\t\t\treturn gameObject.solid === true && !exclude.includes(gameObject);\n\t\t});\n\t}\n\n\tgetSolidActors(exclude = []) {\n\t\tlet actors = this.getActors();\n\n\t\treturn actors.filter((actor) => {\n\t\t\treturn actor.solid === true && !exclude.includes(actor);\n\t\t});\n\t}\n\n\thasSolidEntities(exclude = []) {\n\t\treturn this.getSolidEntities(exclude).length > 0;\n\t}\n\n\thasSolidActors(exclude = []) {\n\t\treturn this.getSolidActors(exclude).length > 0;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/module/Tile.js?");

/***/ }),

/***/ "./script/object/Actor.js":
/*!********************************!*\
  !*** ./script/object/Actor.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Actor; });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"./script/object/Entity.js\");\n/* harmony import */ var _module_Log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../module/Log */ \"./script/module/Log.js\");\n/* harmony import */ var _module_Ticker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../module/Ticker */ \"./script/module/Ticker.js\");\n\n\n\n\nconst DEFAULT_STATS = {\n\tstrength: 1,\n\tmaxHealth: 1,\n\tmoveCost: 100,\n\tattackCost: 100,\n}\n\nclass Actor extends _Entity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(creatureDefinition, options) {\n\t\tsuper(options);\n\n\t\tthis.applyCreatureDefinition(creatureDefinition);\n\n\t\t_module_Ticker__WEBPACK_IMPORTED_MODULE_2__[\"default\"].schedule(this.takeAction.bind(this), 0, this);\n\t}\n\n\tapplyCreatureDefinition(creatureDefinition) {\n\t\tthis.type = creatureDefinition.type;\n\t\tthis.applyStats(creatureDefinition.stats);\n\t\tthis.useSpriteWithName(creatureDefinition.spriteName);\n\t\tthis.setSizeInLevel(creatureDefinition.size);\n\t\tthis.setSolidity(creatureDefinition.solid);\n\t\tthis.setDeathrattle(creatureDefinition.deathrattle);\n\t}\n\n\tapplyStats(stats) {\n\t\tthis.stats = Object.assign({}, DEFAULT_STATS, stats);\n\n\t\tif (this.health === undefined || this.health > this.stats.maxHealth) {\n\t\t\tthis.health = this.stats.maxHealth;\n\t\t}\n\t}\n\n\tsetDeathrattle(deathrattle) {\n\t\tif (typeof deathrattle === 'function') {\n\t\t\tthis.deathrattle = deathrattle.bind(this);\n\t\t}\n\t}\n\n\ttakeAction() {\n\t\treturn new Promise((resolve) => {\n\t\t\tresolve();\n\t\t});\n\t}\n\n\twait() {\n\t\t_module_Ticker__WEBPACK_IMPORTED_MODULE_2__[\"default\"].schedule(this.takeAction.bind(this), this.stats.moveCost, this);\n\t}\n\n\tcanMove() {\n\t\treturn this.canMoveToPosition({x: this.positionInLevel.x + 1, y: this.positionInLevel.y})\n\t\t\t|| this.canMoveToPosition({x: this.positionInLevel.x, y: this.positionInLevel.y + 1})\n\t\t\t|| this.canMoveToPosition({x: this.positionInLevel.x - 1, y: this.positionInLevel.y})\n\t\t\t|| this.canMoveToPosition({x: this.positionInLevel.x, y: this.positionInLevel.y - 1});\n\t}\n\n\tcanMoveToPosition(levelPosition) {\n\t\treturn this.level.hasTileAtPosition(levelPosition)\n\t\t\t&& !this.level.hasSolidEntitiesInBoundaries(levelPosition, this.sizeInLevel, [this])\n\t\t\t&& this.level.areBoundariesWithinLevelBoundaries(levelPosition, this.sizeInLevel);\n\t}\n\n\tmoveTo(newLevelPosition) {\n\t\tthis.level.moveActorFromPositionToPosition(this, this.positionInLevel, newLevelPosition);\n\t\t_module_Ticker__WEBPACK_IMPORTED_MODULE_2__[\"default\"].schedule(this.takeAction.bind(this), this.stats.moveCost, this);\n\n\t\treturn true;\n\t}\n\n\tcanAttackPosition(levelPosition) {\n\t\tlet solidActorsOnNewPosition = this.level.getSolidActorsInBoundaries(levelPosition, this.sizeInLevel, [this]);\n\n\t\treturn solidActorsOnNewPosition.some((actor) => {\n\t\t\treturn actor.canBeAttacked();\n\t\t});\n\t}\n\n\tattackPosition(levelPosition) {\n\t\tlet targets = this.level.getSolidActorsInBoundaries(levelPosition, this.sizeInLevel, [this]).filter((actor) => {\n\t\t\treturn actor.canBeAttacked();\n\t\t});\n\n\t\tif (targets.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttargets.forEach((target) => {\n\t\t\tthis.attackTarget(target);\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tattackTarget(target) {\n\t\t_module_Log__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showMessage(`<em>${this.type}</em> attacks <em>${target.type}</em>`);\n\t\ttarget.applyDamage(this.calculateAttackDamage());\n\t\t_module_Ticker__WEBPACK_IMPORTED_MODULE_2__[\"default\"].schedule(this.takeAction.bind(this), this.stats.attackCost, this);\n\t}\n\n\tcalculateAttackDamage() {\n\t\treturn this.stats.strength;\n\t}\n\n\tapplyDamage(damage) {\n\t\t_module_Log__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showMessage(`<em>${this.type}</em> takes ${damage} damage`);\n\t\tthis.reduceHealth(damage);\n\t}\n\n\trestoreHealth(amount) {\n\t\tthis.changeHealth(this.health + amount);\n\t}\n\n\treduceHealth(amount) {\n\t\tthis.changeHealth(this.health - amount);\n\t}\n\n\tchangeHealth(health) {\n\t\tif (health > this.stats.maxHealth) {\n\t\t\tthis.health = this.stats.maxHealth;\n\t\t\t_module_Log__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showMessage(`<em>${this.type}</em> health max at ${this.health}`);\n\t\t} else if (health <= 0) {\n\t\t\tthis.health = 0;\n\t\t\tthis.die();\n\t\t} else {\n\t\t\tthis.health = health;\n\t\t\t_module_Log__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showMessage(`<em>${this.type}</em> health is ${this.health}/${this.stats.maxHealth}`);\n\t\t}\n\t}\n\n\tcanBeAttacked() {\n\t\treturn !this.dead;\n\t}\n\n\tdie() {\n\t\tthis.dead = true;\n\t\tthis.solid = false;\n\t\tdelete this.sprite;\n\n\t\tif (typeof this.deathrattle === 'function') {\n\t\t\tthis.deathrattle(this.level);\n\t\t}\n\n\t\t_module_Log__WEBPACK_IMPORTED_MODULE_1__[\"default\"].showMessage(`<em>${this.type}</em> is dead`);\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/object/Actor.js?");

/***/ }),

/***/ "./script/object/Dialog.js":
/*!*********************************!*\
  !*** ./script/object/Dialog.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Dialog; });\n/* harmony import */ var _core_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../core/GameObject */ \"./script/core/GameObject.js\");\n\n\nclass Dialog extends _core_GameObject__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor (options) {\n\t\tsuper(options);\n\t}\n\n\tdisplayMessage(message) {\n\t\tthis.message = message;\n\t}\n\n\tdraw(time, canvas, viewport) {\n\t\tlet context = canvas.getContext('2d');\n\n\t\tcontext.fillStyle = '#e4e4e4';\n\t\tcontext.fillRect(\n\t\t\tthis.position.x,\n\t\t\tcanvas.height - this.size.height - 10,\n\t\t\tthis.size.width,\n\t\t\tthis.size.height\n\t\t);\n\n\t\tcontext.strokeStyle = '#bad455';\n\t\tcontext.strokeRect(\n\t\t\tthis.position.x,\n\t\t\tcanvas.height - this.size.height - 10,\n\t\t\tthis.size.width,\n\t\t\tthis.size.height\n\t\t);\n\n\t\tif (this.message) {\n\t\t\tcontext.font = '9pt monospace';\n\t\t\tcontext.fillStyle = 'yellow';\n\t\t\tcontext.fillText(\n\t\t\t\tthis.message,\n\t\t\t\tthis.position.x,\n\t\t\t\tcanvas.height - this.size.height - 10\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/object/Dialog.js?");

/***/ }),

/***/ "./script/object/Entity.js":
/*!*********************************!*\
  !*** ./script/object/Entity.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Entity; });\n/* harmony import */ var _core_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../core/GameObject */ \"./script/core/GameObject.js\");\n\n\nclass Entity extends _core_GameObject__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(options) {\n\t\tsuper(options);\n\t}\n\n\tsetPositionInLevel(positionInLevel) {\n\t\tthis.positionInLevel = positionInLevel;\n\t}\n\n\tsetSizeInLevel(sizeInLevel) {\n\t\tthis.sizeInLevel = sizeInLevel;\n\t}\n\n\tstep(time) {\n\t\tsuper.step(time);\n\n\t\tthis.position = {\n\t\t\tx: this.positionInLevel.x * 16,\n\t\t\ty: this.positionInLevel.y * 16,\n\t\t};\n\n\t\tthis.size = {\n\t\t\twidth: this.sizeInLevel.width * 16,\n\t\t\theight: this.sizeInLevel.height * 16,\n\t\t};\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/object/Entity.js?");

/***/ }),

/***/ "./script/object/NonPlayer.js":
/*!************************************!*\
  !*** ./script/object/NonPlayer.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NonPlayer; });\n/* harmony import */ var _Actor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Actor */ \"./script/object/Actor.js\");\n/* harmony import */ var _module_Brain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../module/Brain */ \"./script/module/Brain.js\");\n/* harmony import */ var _goal_Wander__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../goal/Wander */ \"./script/goal/Wander.js\");\n\n\n\n\nclass NonPlayer extends _Actor__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(type, options) {\n\t\tsuper(type, options);\n\t\tthis.brain = new _module_Brain__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this);\n\t\tthis.brain.goals.push(new _goal_Wander__WEBPACK_IMPORTED_MODULE_2__[\"default\"]());\n\t}\n\n\ttakeAction() {\n\t\treturn new Promise((resolve) => {\n\t\t\tif (!this.dead) {\n\t\t\t\tthis.brain.act();\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/object/NonPlayer.js?");

/***/ }),

/***/ "./script/object/Player.js":
/*!*********************************!*\
  !*** ./script/object/Player.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Player; });\n/* harmony import */ var _Actor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Actor */ \"./script/object/Actor.js\");\n/* harmony import */ var _module_Ticker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../module/Ticker */ \"./script/module/Ticker.js\");\n/* harmony import */ var _module_Log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../module/Log */ \"./script/module/Log.js\");\n\n\n\n\nclass Player extends _Actor__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(type, options) {\n\t\tsuper(type, options);\n\t\t_module_Log__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showMessage(`<em>${this.type}</em> awakens...`);\n\t}\n\n\ttakeAction() {\n\t\treturn new Promise((resolve) => {\n\t\t\tif (!this.dead) {\n\t\t\t\tthis.keyDownEvent = this.addEventListener('keydown', (event) => {\n\t\t\t\t\tthis.handleKeyPressed(event, resolve);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t_module_Ticker__WEBPACK_IMPORTED_MODULE_1__[\"default\"].schedule(this.takeAction.bind(this), this.stats.moveCost, this);\n\t\t\t\twindow.setTimeout(resolve, 1000);\n\t\t\t}\n\t\t});\n\t}\n\n\thandleKeyPressed(event, callback) {\n\t\tlet actionTaken = false;\n\n\t\tif (event.key === ' ' || event.key === '5') {\n\t\t\tevent.preventDefault();\n\t\t\t_module_Log__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showMessage(`${this.type} waits...`);\n\t\t\tthis.wait();\n\t\t\tactionTaken = true;\n\t\t}\n\n\t\tif (event.key === 'ArrowUp' || event.key === '8') {\n\t\t\tevent.preventDefault();\n\t\t\tactionTaken = this.actNorth();\n\t\t}\n\n\t\tif (event.key === 'ArrowRight' || event.key === '6') {\n\t\t\tevent.preventDefault();\n\t\t\tactionTaken = this.actEast();\n\t\t}\n\n\t\tif (event.key === 'ArrowDown' || event.key === '2') {\n\t\t\tevent.preventDefault();\n\t\t\tactionTaken = this.actSouth();\n\t\t}\n\n\t\tif (event.key === 'ArrowLeft' || event.key === '4') {\n\t\t\tevent.preventDefault();\n\t\t\tactionTaken = this.actWest();\n\t\t}\n\n\t\tif (actionTaken) {\n\t\t\tthis.removeEventListener(this.keyDownEvent);\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tactTowardPosition(position) {\n\t\tif (this.canMoveToPosition(position)) {\n\t\t\treturn this.moveTo(position);\n\t\t}\n\n\t\tif (this.canAttackPosition(position)) {\n\t\t\treturn this.attackPosition(position);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tactNorth() {\n\t\tlet newPosition = {\n\t\t\tx: this.positionInLevel.x,\n\t\t\ty: this.positionInLevel.y - 1,\n\t\t};\n\n\t\treturn this.actTowardPosition(newPosition);\n\t}\n\n\tactEast() {\n\t\tlet newPosition = {\n\t\t\tx: this.positionInLevel.x + 1,\n\t\t\ty: this.positionInLevel.y,\n\t\t};\n\n\t\treturn this.actTowardPosition(newPosition);\n\t}\n\n\tactSouth() {\n\t\tlet newPosition = {\n\t\t\tx: this.positionInLevel.x,\n\t\t\ty: this.positionInLevel.y + 1,\n\t\t};\n\n\t\treturn this.actTowardPosition(newPosition);\n\t}\n\n\tactWest() {\n\t\tlet newPosition = {\n\t\t\tx: this.positionInLevel.x - 1,\n\t\t\ty: this.positionInLevel.y,\n\t\t};\n\n\t\treturn this.actTowardPosition(newPosition);\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/object/Player.js?");

/***/ }),

/***/ "./script/object/Structure.js":
/*!************************************!*\
  !*** ./script/object/Structure.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Structure; });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"./script/object/Entity.js\");\n\n\nclass Structure extends _Entity__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor(structureDefinition, options) {\n\t\tsuper(options);\n\n\t\tthis.applyStructureDefinition(structureDefinition);\n\t}\n\n\tapplyStructureDefinition(structureDefinition) {\n\t\tthis.type = structureDefinition.type;\n\t\tthis.useSpriteWithName(structureDefinition.spriteName);\n\t\tthis.setSizeInLevel(structureDefinition.size);\n\t\tthis.setSolidity(structureDefinition.solid);\n\t\tthis.setCanBeAttacked(structureDefinition.canBeAttacked);\n\t}\n\n\tsetCanBeAttacked(canBeAttacked = false) {\n\t\tthis.canBeAttacked = canBeAttacked;\n\t}\n}\n\n\n//# sourceURL=webpack:///./script/object/Structure.js?");

/***/ }),

/***/ "./script/resource/creature/GreenKnight.js":
/*!*************************************************!*\
  !*** ./script/resource/creature/GreenKnight.js ***!
  \*************************************************/
/*! exports provided: GreenKnight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GreenKnight\", function() { return GreenKnight; });\n/* harmony import */ var object_Structure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! object/Structure */ \"./script/object/Structure.js\");\n/* harmony import */ var resource_structure_Grave__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! resource/structure/Grave */ \"./script/resource/structure/Grave.js\");\n\n\n\nconst GreenKnight = {\n\ttype: 'green knight',\n\tstats: {\n\t\tmaxHealth: 10,\n\t\tstrength: 3,\n\t\tmoveCost: 100,\n\t\tattackCost: 100,\n\t},\n\tspriteName: 'greenknight',\n\tsize: {\n\t\twidth: 1,\n\t\theight: 1,\n\t},\n\tsolid: true,\n\tdeathrattle: function (level) {\n\t\tlevel.addStructure(new object_Structure__WEBPACK_IMPORTED_MODULE_0__[\"default\"](resource_structure_Grave__WEBPACK_IMPORTED_MODULE_1__[\"Grave\"]), this.positionInLevel);\n\t},\n};\n\n\n//# sourceURL=webpack:///./script/resource/creature/GreenKnight.js?");

/***/ }),

/***/ "./script/resource/creature/KingSlime.js":
/*!***********************************************!*\
  !*** ./script/resource/creature/KingSlime.js ***!
  \***********************************************/
/*! exports provided: KingSlime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KingSlime\", function() { return KingSlime; });\n/* harmony import */ var object_NonPlayer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! object/NonPlayer */ \"./script/object/NonPlayer.js\");\n/* harmony import */ var resource_creature_Slime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! resource/creature/Slime */ \"./script/resource/creature/Slime.js\");\n\n\n\nconst KingSlime = {\n\ttype: 'king slime',\n\tstats: {\n\t\tmaxHealth: 28,\n\t\tstrength: 2,\n\t\tmoveCost: 400,\n\t\tattackCost: 400,\n\t},\n\tspriteName: 'kingslime',\n\tsize: {\n\t\twidth: 2,\n\t\theight: 2,\n\t},\n\tsolid: true,\n\tdeathrattle: function(map) {\n\t\tmap.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](resource_creature_Slime__WEBPACK_IMPORTED_MODULE_1__[\"Slime\"]), this.positionInLevel);\n\t\tmap.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](resource_creature_Slime__WEBPACK_IMPORTED_MODULE_1__[\"Slime\"]), {x: this.positionInLevel.x + 1, y: this.positionInLevel.y});\n\t\tmap.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](resource_creature_Slime__WEBPACK_IMPORTED_MODULE_1__[\"Slime\"]), {x: this.positionInLevel.x, y: this.positionInLevel.y + 1});\n\t\tmap.addActor(new object_NonPlayer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](resource_creature_Slime__WEBPACK_IMPORTED_MODULE_1__[\"Slime\"]), {x: this.positionInLevel.x + 1, y: this.positionInLevel.y + 1});\n\t},\n};\n\n\n//# sourceURL=webpack:///./script/resource/creature/KingSlime.js?");

/***/ }),

/***/ "./script/resource/creature/Knight.js":
/*!********************************************!*\
  !*** ./script/resource/creature/Knight.js ***!
  \********************************************/
/*! exports provided: Knight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Knight\", function() { return Knight; });\n/* harmony import */ var object_Structure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! object/Structure */ \"./script/object/Structure.js\");\n/* harmony import */ var resource_structure_Grave__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! resource/structure/Grave */ \"./script/resource/structure/Grave.js\");\n\n\n\nconst Knight = {\n\ttype: 'knight',\n\tstats: {\n\t\tmaxHealth: 10,\n\t\tstrength: 3,\n\t\tmoveCost: 100,\n\t\tattackCost: 100,\n\t},\n\tspriteName: 'knight',\n\tsize: {\n\t\twidth: 1,\n\t\theight: 1,\n\t},\n\tsolid: true,\n\tdeathrattle: function (map) {\n\t\tmap.addStructure(new object_Structure__WEBPACK_IMPORTED_MODULE_0__[\"default\"](resource_structure_Grave__WEBPACK_IMPORTED_MODULE_1__[\"Grave\"]), this.positionInLevel);\n\t},\n};\n\n\n//# sourceURL=webpack:///./script/resource/creature/Knight.js?");

/***/ }),

/***/ "./script/resource/creature/Slime.js":
/*!*******************************************!*\
  !*** ./script/resource/creature/Slime.js ***!
  \*******************************************/
/*! exports provided: Slime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Slime\", function() { return Slime; });\nconst Slime = {\n\ttype: 'slime',\n\tstats: {\n\t\tmaxHealth: 16,\n\t\tstrength: 1,\n\t\tmoveCost: 200,\n\t\tattackCost: 200,\n\t},\n\tspriteName: 'slime',\n\tsize: {\n\t\twidth: 1,\n\t\theight: 1,\n\t},\n\tsolid: true,\n};\n\n\n//# sourceURL=webpack:///./script/resource/creature/Slime.js?");

/***/ }),

/***/ "./script/resource/structure/Grave.js":
/*!********************************************!*\
  !*** ./script/resource/structure/Grave.js ***!
  \********************************************/
/*! exports provided: Grave */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Grave\", function() { return Grave; });\nconst Grave = {\n\ttype: 'grave',\n\tspriteName: 'grave',\n\tsize: {\n\t\twidth: 1,\n\t\theight: 1,\n\t},\n\tsolid: true,\n};\n\n\n//# sourceURL=webpack:///./script/resource/structure/Grave.js?");

/***/ }),

/***/ "./script/resource/structure/Tree.js":
/*!*******************************************!*\
  !*** ./script/resource/structure/Tree.js ***!
  \*******************************************/
/*! exports provided: Tree */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tree\", function() { return Tree; });\nconst Tree = {\n\ttype: 'tree',\n\tspriteName: 'tree',\n\tsize: {\n\t\twidth: 1,\n\t\theight: 1,\n\t},\n\tsolid: true,\n};\n\n\n//# sourceURL=webpack:///./script/resource/structure/Tree.js?");

/***/ }),

/***/ "./script/resource/structure/Wall.js":
/*!*******************************************!*\
  !*** ./script/resource/structure/Wall.js ***!
  \*******************************************/
/*! exports provided: Wall */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wall\", function() { return Wall; });\nconst Wall = {\n\ttype: 'wall',\n\tspriteName: 'wall',\n\tsize: {\n\t\twidth: 1,\n\t\theight: 1,\n\t},\n\tsolid: true,\n};\n\n\n//# sourceURL=webpack:///./script/resource/structure/Wall.js?");

/***/ })

/******/ });