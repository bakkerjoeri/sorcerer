{"version":3,"sources":["webpack:///sorcerer.min.js","webpack:///webpack/bootstrap 0dab905a7038692e0b7e","webpack:///./scripts/core/PubSub.js","webpack:///./scripts/core/SpriteAtlas.js","webpack:///./scripts/entities/Actor.js","webpack:///./scripts/core/Entity.js","webpack:///./scripts/core/SpriteFrame.js","webpack:///./scripts/main.js","webpack:///./scripts/core/Room.js","webpack:///./scripts/core/Viewport.js","webpack:///./scripts/entities/Game.js","webpack:///./scripts/entities/Player.js","webpack:///./scripts/core/Sprite.js","webpack:///./scripts/entities/NonPlayer.js","webpack:///./scripts/entities/Wall.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","topics","Map","PubSub","this","topic","callback","has","set","push","data","forEach","_interopRequireDefault","obj","createFramesFromDefinition","definition","frames","image","Image","src","file","frameData","frame","_SpriteFrame2","origin","size","_Sprite","_Sprite2","_SpriteFrame","SpriteAtlas","frameName","find","getName","frameNames","_this","map","getFrame","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_Entity2","_Entity3","Actor","_Entity","options","getPrototypeOf","canMoveToPosition","x","position","y","changePosition","room","hasSolidEntityInBoundaries","width","sprite","height","Entity","arguments","setSprite","setPosition","setSolidity","solid","setBoundaries","boundaries","context","time","change","currentPosition","getPosition","SpriteFrame","setName","setImage","setOrigin","setSize","imageLoaded","addEventListener","_Room","_Room2","_Viewport","_Viewport2","_Game","_Game2","_Player","_Player2","_NonPlayer","_NonPlayer2","_Wall","_Wall2","canvas","document","querySelector","setBackgroundColor","showRoom","game","setPlayer","addNonPlayer","addObject","Room","entities","Set","entity","add","backgroundColor","fillStyle","fillRect","findSolidEntitiesInBoundaries","isWithinBoundaries","changeCanvasToSize","calculatePositionInViewportFromPositionInRoom","positionInRoom","viewport","Viewport","useCanvas","startUpdating","getContext","window","requestAnimationFrame","update","bind","step","draw","clearDrawing","drawBackground","clearRect","_PubSub","_PubSub2","Game","player","nonPlayers","objects","subscribe","tick","performTurns","playerEntity","addEntity","nonPlayerEntity","objectEntity","console","log","nonPlayer","takeTurn","_Actor2","_Actor3","_SpriteAtlas","_SpriteAtlas2","Player","_Actor","spriteAtlas","JSON","parse","playerSprite","createSpriteWithFrames","setFramesPerSecond","onKeyDown","event","moved","preventDefault","moveUp","moveRight","moveDown","moveLeft","publish","calculateNewFrameIndexWithChange","currentFrameIndex","amountOfFrames","Math","round","newFrameIndex","calculateMaximumSizeFromFrames","biggestWidth","biggestHeight","Sprite","setFrames","getFrames","setCurrentFrameIndex","frameIndex","framesPerSecond","timeOfPreviousFrame","Array","isArray","newCurrentFrameIndex","currentFrame","getCurrentFrame","drawImage","getImage","getOrigin","getSize","getFramesPerSecond","timeSincePreviousFrame","frameChange","floor","ceil","NonPlayer","slimeSprite","decision","random","Wall","wallSprite"],"mappings":"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","file":"sorcerer.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar topics = new Map();\n\nvar PubSub = function () {\n\tfunction PubSub() {\n\t\t_classCallCheck(this, PubSub);\n\t}\n\n\t_createClass(PubSub, null, [{\n\t\tkey: \"subscribe\",\n\t\tvalue: function subscribe(topic, callback) {\n\t\t\tif (!topics.has(topic)) {\n\t\t\t\ttopics.set(topic, []);\n\t\t\t}\n\n\t\t\tvar topicCallbacks = topics.get(topic);\n\t\t\ttopicCallbacks.push(callback);\n\t\t}\n\t}, {\n\t\tkey: \"publish\",\n\t\tvalue: function publish(topic, data) {\n\t\t\tif (topics.has(topic)) {\n\t\t\t\ttopics.get(topic).forEach(function (callback) {\n\t\t\t\t\tcallback(data);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn PubSub;\n}();\n\nexports.default = PubSub;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Sprite = __webpack_require__(10);\n\nvar _Sprite2 = _interopRequireDefault(_Sprite);\n\nvar _SpriteFrame = __webpack_require__(4);\n\nvar _SpriteFrame2 = _interopRequireDefault(_SpriteFrame);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SpriteAtlas = function () {\n\tfunction SpriteAtlas(definition) {\n\t\t_classCallCheck(this, SpriteAtlas);\n\n\t\tthis.frames = createFramesFromDefinition(definition);\n\t}\n\n\t_createClass(SpriteAtlas, [{\n\t\tkey: 'getFrame',\n\t\tvalue: function getFrame(frameName) {\n\t\t\treturn this.frames.find(function (frame) {\n\t\t\t\treturn frame.getName() === frameName;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'createSpriteWithFrames',\n\t\tvalue: function createSpriteWithFrames(frameNames) {\n\t\t\tvar _this = this;\n\n\t\t\tvar frames = frameNames.map(function (frameName) {\n\t\t\t\treturn _this.getFrame(frameName);\n\t\t\t});\n\n\t\t\treturn new _Sprite2.default(frames);\n\t\t}\n\t}]);\n\n\treturn SpriteAtlas;\n}();\n\nexports.default = SpriteAtlas;\n\n\nfunction createFramesFromDefinition(definition) {\n\tvar frames = [];\n\n\tif (definition.hasOwnProperty('file')) {\n\t\tvar image = new Image();\n\t\timage.src = definition.file;\n\n\t\tdefinition.frames.forEach(function (frameData) {\n\t\t\tvar frame = new _SpriteFrame2.default(frameData.name, image, frameData.origin, frameData.size);\n\n\t\t\tframes.push(frame);\n\t\t});\n\t}\n\n\treturn frames;\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Entity2 = __webpack_require__(3);\n\nvar _Entity3 = _interopRequireDefault(_Entity2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Actor = function (_Entity) {\n\t_inherits(Actor, _Entity);\n\n\tfunction Actor(options) {\n\t\t_classCallCheck(this, Actor);\n\n\t\treturn _possibleConstructorReturn(this, (Actor.__proto__ || Object.getPrototypeOf(Actor)).call(this, options));\n\t}\n\n\t_createClass(Actor, [{\n\t\tkey: 'moveUp',\n\t\tvalue: function moveUp() {\n\t\t\tif (this.canMoveToPosition({\n\t\t\t\tx: this.position.x,\n\t\t\t\ty: this.position.y - 16\n\t\t\t})) {\n\t\t\t\tthis.changePosition({\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: -16\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'moveRight',\n\t\tvalue: function moveRight() {\n\t\t\tif (this.canMoveToPosition({\n\t\t\t\tx: this.position.x + 16,\n\t\t\t\ty: this.position.y\n\t\t\t})) {\n\t\t\t\tthis.changePosition({\n\t\t\t\t\tx: 16,\n\t\t\t\t\ty: 0\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'moveDown',\n\t\tvalue: function moveDown() {\n\t\t\tif (this.canMoveToPosition({\n\t\t\t\tx: this.position.x,\n\t\t\t\ty: this.position.y + 16\n\t\t\t})) {\n\t\t\t\tthis.changePosition({\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 16\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'moveLeft',\n\t\tvalue: function moveLeft() {\n\t\t\tif (this.canMoveToPosition({\n\t\t\t\tx: this.position.x - 16,\n\t\t\t\ty: this.position.y\n\t\t\t})) {\n\t\t\t\tthis.changePosition({\n\t\t\t\t\tx: -16,\n\t\t\t\t\ty: 0\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'canMoveToPosition',\n\t\tvalue: function canMoveToPosition(position) {\n\t\t\treturn !this.room.hasSolidEntityInBoundaries({\n\t\t\t\tx: position.x,\n\t\t\t\ty: position.y,\n\t\t\t\twidth: this.sprite.size.width,\n\t\t\t\theight: this.sprite.size.height\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn Actor;\n}(_Entity3.default);\n\nexports.default = Actor;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Entity = function () {\n\tfunction Entity() {\n\t\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t_classCallCheck(this, Entity);\n\n\t\tif (options.hasOwnProperty('sprite')) {\n\t\t\tthis.setSprite(options.sprite);\n\t\t}\n\n\t\tif (options.hasOwnProperty('position')) {\n\t\t\tthis.setPosition(options.position);\n\t\t}\n\n\t\tif (options.hasOwnProperty('solid')) {\n\t\t\tthis.setSolidity(options.solid);\n\t\t}\n\n\t\tif (options.hasOwnProperty('boundaries')) {\n\t\t\tthis.setBoundaries(options.boundaries);\n\t\t}\n\n\t\tthis.context = options.context;\n\t}\n\n\t_createClass(Entity, [{\n\t\tkey: 'step',\n\t\tvalue: function step(time) {}\n\t}, {\n\t\tkey: 'setSprite',\n\t\tvalue: function setSprite(sprite) {\n\t\t\tthis.sprite = sprite;\n\t\t}\n\t}, {\n\t\tkey: 'setPosition',\n\t\tvalue: function setPosition(position) {\n\t\t\tthis.position = position;\n\t\t}\n\t}, {\n\t\tkey: 'getPosition',\n\t\tvalue: function getPosition() {\n\t\t\treturn this.position;\n\t\t}\n\t}, {\n\t\tkey: 'setSolidity',\n\t\tvalue: function setSolidity(solid) {\n\t\t\tthis.solid = solid;\n\t\t}\n\t}, {\n\t\tkey: 'isSolid',\n\t\tvalue: function isSolid() {\n\t\t\treturn this.solid;\n\t\t}\n\t}, {\n\t\tkey: 'setBoundaries',\n\t\tvalue: function setBoundaries(boundaries) {\n\t\t\tthis.boundaries = boundaries;\n\t\t}\n\t}, {\n\t\tkey: 'getBoundaries',\n\t\tvalue: function getBoundaries() {\n\t\t\treturn this.boundaries;\n\t\t}\n\t}, {\n\t\tkey: 'changePosition',\n\t\tvalue: function changePosition(change) {\n\t\t\tvar currentPosition = this.getPosition();\n\n\t\t\tthis.setPosition({\n\t\t\t\tx: currentPosition.x + change.x,\n\t\t\t\ty: currentPosition.y + change.y\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'isWithinBoundaries',\n\t\tvalue: function isWithinBoundaries(boundaries) {\n\t\t\treturn this.position.y < boundaries.y + boundaries.height && this.position.x + this.boundaries.width > boundaries.x && this.position.y + this.boundaries.height > boundaries.y && this.position.x < boundaries.x + boundaries.width;\n\t\t}\n\t}]);\n\n\treturn Entity;\n}();\n\nexports.default = Entity;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SpriteFrame = function () {\n\tfunction SpriteFrame(name, image, position, size) {\n\t\t_classCallCheck(this, SpriteFrame);\n\n\t\tthis.setName(name);\n\t\tthis.setImage(image);\n\t\tthis.setOrigin(position);\n\t\tthis.setSize(size);\n\t}\n\n\t_createClass(SpriteFrame, [{\n\t\tkey: 'setName',\n\t\tvalue: function setName(name) {\n\t\t\tthis.name = name;\n\t\t}\n\t}, {\n\t\tkey: 'setImage',\n\t\tvalue: function setImage(image) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.imageLoaded = false;\n\t\t\tthis.image = image;\n\n\t\t\tthis.image.addEventListener('load', function () {\n\t\t\t\t_this.imageLoaded = true;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'setOrigin',\n\t\tvalue: function setOrigin(origin) {\n\t\t\tthis.origin = origin;\n\t\t}\n\t}, {\n\t\tkey: 'setSize',\n\t\tvalue: function setSize(size) {\n\t\t\tthis.size = size;\n\t\t}\n\t}, {\n\t\tkey: 'getName',\n\t\tvalue: function getName() {\n\t\t\treturn this.name;\n\t\t}\n\t}, {\n\t\tkey: 'getImage',\n\t\tvalue: function getImage() {\n\t\t\treturn this.image;\n\t\t}\n\t}, {\n\t\tkey: 'getOrigin',\n\t\tvalue: function getOrigin() {\n\t\t\treturn this.origin;\n\t\t}\n\t}, {\n\t\tkey: 'getSize',\n\t\tvalue: function getSize() {\n\t\t\treturn this.size;\n\t\t}\n\t}, {\n\t\tkey: 'onImageLoaded',\n\t\tvalue: function onImageLoaded(callback) {\n\t\t\tif (this.imageLoaded) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis.image.addEventListener('load', callback);\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn SpriteFrame;\n}();\n\nexports.default = SpriteFrame;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Room = __webpack_require__(6);\n\nvar _Room2 = _interopRequireDefault(_Room);\n\nvar _Viewport = __webpack_require__(7);\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _Game = __webpack_require__(8);\n\nvar _Game2 = _interopRequireDefault(_Game);\n\nvar _Player = __webpack_require__(9);\n\nvar _Player2 = _interopRequireDefault(_Player);\n\nvar _NonPlayer = __webpack_require__(11);\n\nvar _NonPlayer2 = _interopRequireDefault(_NonPlayer);\n\nvar _Wall = __webpack_require__(12);\n\nvar _Wall2 = _interopRequireDefault(_Wall);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(13);\n\nvar canvas = document.querySelector('.canvas__sorcerer');\n\nvar room = new _Room2.default({ width: 1000, height: 500 });\nroom.setBackgroundColor('#000');\n\nvar viewport = new _Viewport2.default(canvas, { x: 0, y: 0 }, { width: 240, height: 160 });\nviewport.showRoom(room);\n\nvar game = new _Game2.default(room);\n\ngame.setPlayer(new _Player2.default({\n\tposition: { x: 16, y: 16 }\n}));\n\ngame.addNonPlayer(new _NonPlayer2.default({\n\tposition: { x: 144, y: 64 }\n}));\n\ngame.addObject(new _Wall2.default({\n\tposition: { x: 48, y: 32 }\n}));\n\ngame.addObject(new _Wall2.default({\n\tposition: { x: 64, y: 32 }\n}));\n\ngame.addObject(new _Wall2.default({\n\tposition: { x: 64, y: 48 }\n}));\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Room = function () {\n\tfunction Room(size) {\n\t\t_classCallCheck(this, Room);\n\n\t\tthis.setSize(size);\n\n\t\tthis.entities = new Set();\n\t}\n\n\t_createClass(Room, [{\n\t\tkey: \"addEntity\",\n\t\tvalue: function addEntity(entity) {\n\t\t\tthis.entities.add(entity);\n\t\t\tentity.room = this;\n\t\t}\n\t}, {\n\t\tkey: \"getEntities\",\n\t\tvalue: function getEntities() {\n\t\t\treturn this.entities;\n\t\t}\n\t}, {\n\t\tkey: \"setSize\",\n\t\tvalue: function setSize(size) {\n\t\t\tthis.size = size;\n\t\t}\n\t}, {\n\t\tkey: \"getSize\",\n\t\tvalue: function getSize() {\n\t\t\treturn this.size;\n\t\t}\n\t}, {\n\t\tkey: \"setBackgroundColor\",\n\t\tvalue: function setBackgroundColor(backgroundColor) {\n\t\t\tthis.backgroundColor = backgroundColor;\n\t\t}\n\t}, {\n\t\tkey: \"getBackgroundColor\",\n\t\tvalue: function getBackgroundColor() {\n\t\t\treturn this.backgroundColor;\n\t\t}\n\t}, {\n\t\tkey: \"drawBackground\",\n\t\tvalue: function drawBackground(context) {\n\t\t\tcontext.fillStyle = this.backgroundColor;\n\t\t\tcontext.fillRect(0, 0, this.size.width, this.size.height);\n\t\t}\n\t}, {\n\t\tkey: \"hasSolidEntityInBoundaries\",\n\t\tvalue: function hasSolidEntityInBoundaries(boundaries) {\n\t\t\treturn this.findSolidEntitiesInBoundaries(boundaries).length > 0;\n\t\t}\n\t}, {\n\t\tkey: \"findSolidEntitiesInBoundaries\",\n\t\tvalue: function findSolidEntitiesInBoundaries(boundaries) {\n\t\t\tvar entities = [];\n\n\t\t\tthis.entities.forEach(function (entity) {\n\t\t\t\tif (entity.solid && entity.isWithinBoundaries(boundaries)) {\n\t\t\t\t\tentities.push(entity);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn entities;\n\t\t}\n\t}]);\n\n\treturn Room;\n}();\n\nexports.default = Room;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Viewport = function () {\n\tfunction Viewport(canvas, position, size) {\n\t\t_classCallCheck(this, Viewport);\n\n\t\tthis.useCanvas(canvas);\n\t\tthis.position = position;\n\t\tthis.setSize(size);\n\n\t\tthis.startUpdating();\n\t}\n\n\t_createClass(Viewport, [{\n\t\tkey: 'showRoom',\n\t\tvalue: function showRoom(room) {\n\t\t\tthis.room = room;\n\t\t}\n\t}, {\n\t\tkey: 'useCanvas',\n\t\tvalue: function useCanvas(canvas) {\n\t\t\tthis.canvas = canvas;\n\t\t\tthis.context = canvas.getContext('2d');\n\n\t\t\tif (this.size) {\n\t\t\t\tchangeCanvasToSize(canvas, this.size);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setSize',\n\t\tvalue: function setSize(size) {\n\t\t\tthis.size = size;\n\n\t\t\tif (this.canvas) {\n\t\t\t\tchangeCanvasToSize(this.canvas, size);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'startUpdating',\n\t\tvalue: function startUpdating() {\n\t\t\twindow.requestAnimationFrame(this.update.bind(this));\n\t\t}\n\t}, {\n\t\tkey: 'update',\n\t\tvalue: function update(time) {\n\t\t\tthis.step(time);\n\t\t\tthis.draw(time);\n\n\t\t\twindow.requestAnimationFrame(this.update.bind(this));\n\t\t}\n\t}, {\n\t\tkey: 'step',\n\t\tvalue: function step(time) {\n\t\t\tthis.room.entities.forEach(function (entity) {\n\t\t\t\tentity.step(time);\n\t\t\t\tentity.sprite.step(time);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'draw',\n\t\tvalue: function draw(time) {\n\t\t\tvar _this = this;\n\n\t\t\t// remove viewport drawings\n\t\t\tthis.clearDrawing(this.context);\n\n\t\t\t// draw background\n\t\t\tthis.room.drawBackground(this.context);\n\n\t\t\tthis.room.entities.forEach(function (entity) {\n\t\t\t\tentity.sprite.draw(_this.context, calculatePositionInViewportFromPositionInRoom({\n\t\t\t\t\tx: entity.position.x,\n\t\t\t\t\ty: entity.position.y\n\t\t\t\t}, _this));\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'clearDrawing',\n\t\tvalue: function clearDrawing(context) {\n\t\t\tcontext.clearRect(0, 0, this.size.width, this.size.height);\n\t\t}\n\t}]);\n\n\treturn Viewport;\n}();\n\nexports.default = Viewport;\n\n\nfunction changeCanvasToSize(canvas, size) {\n\tcanvas.width = size.width;\n\tcanvas.height = size.height;\n}\n\nfunction calculatePositionInViewportFromPositionInRoom(positionInRoom, viewport) {\n\treturn {\n\t\tx: positionInRoom.x - viewport.position.x,\n\t\ty: positionInRoom.y - viewport.position.y\n\t};\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PubSub = __webpack_require__(0);\n\nvar _PubSub2 = _interopRequireDefault(_PubSub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Game = function () {\n\tfunction Game(room) {\n\t\t_classCallCheck(this, Game);\n\n\t\tthis.room = room;\n\n\t\tthis.player;\n\t\tthis.nonPlayers = new Set();\n\t\tthis.objects = new Set();\n\n\t\t_PubSub2.default.subscribe('playerTurnTaken', this.tick.bind(this));\n\t}\n\n\t_createClass(Game, [{\n\t\tkey: 'tick',\n\t\tvalue: function tick() {\n\t\t\tthis.performTurns();\n\t\t}\n\t}, {\n\t\tkey: 'setPlayer',\n\t\tvalue: function setPlayer(playerEntity) {\n\t\t\tthis.player = playerEntity;\n\n\t\t\tthis.room.addEntity(playerEntity);\n\t\t}\n\t}, {\n\t\tkey: 'addNonPlayer',\n\t\tvalue: function addNonPlayer(nonPlayerEntity) {\n\t\t\tthis.nonPlayers.add(nonPlayerEntity);\n\n\t\t\tthis.room.addEntity(nonPlayerEntity);\n\t\t}\n\t}, {\n\t\tkey: 'addObject',\n\t\tvalue: function addObject(objectEntity) {\n\t\t\tthis.objects.add(objectEntity);\n\n\t\t\tthis.room.addEntity(objectEntity);\n\t\t}\n\t}, {\n\t\tkey: 'performTurns',\n\t\tvalue: function performTurns() {\n\t\t\tconsole.log(\"Time for turns!\");\n\t\t\tthis.nonPlayers.forEach(function (nonPlayer) {\n\t\t\t\tnonPlayer.takeTurn();\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn Game;\n}();\n\nexports.default = Game;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Actor2 = __webpack_require__(2);\n\nvar _Actor3 = _interopRequireDefault(_Actor2);\n\nvar _SpriteAtlas = __webpack_require__(1);\n\nvar _SpriteAtlas2 = _interopRequireDefault(_SpriteAtlas);\n\nvar _PubSub = __webpack_require__(0);\n\nvar _PubSub2 = _interopRequireDefault(_PubSub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Player = function (_Actor) {\n\t_inherits(Player, _Actor);\n\n\tfunction Player(options) {\n\t\t_classCallCheck(this, Player);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Player.__proto__ || Object.getPrototypeOf(Player)).call(this, options));\n\n\t\tvar spriteAtlasDefinition = '{ \"file\": \"assets/images/character-sheet.png\", \"frames\": [ { \"name\": \"player_idle_0\", \"origin\": { \"x\": 0, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_1\", \"origin\": { \"x\": 16, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_2\", \"origin\": { \"x\": 32, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_3\", \"origin\": { \"x\": 48, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, {\"name\": \"player_idle_4\", \"origin\": { \"x\": 64, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_5\", \"origin\": { \"x\": 80, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } } ] }';\n\t\tvar spriteAtlas = new _SpriteAtlas2.default(JSON.parse(spriteAtlasDefinition));\n\t\tvar playerSprite = spriteAtlas.createSpriteWithFrames(['player_idle_0', 'player_idle_0', 'player_idle_0', 'player_idle_0', 'player_idle_0', 'player_idle_1', 'player_idle_2', 'player_idle_3', 'player_idle_3', 'player_idle_3', 'player_idle_3', 'player_idle_4', 'player_idle_5']);\n\n\t\tplayerSprite.setFramesPerSecond(10);\n\t\t_this.setSprite(playerSprite);\n\t\t_this.setBoundaries({ width: 16, height: 16 });\n\n\t\t_this.setSolidity(true);\n\n\t\twindow.addEventListener('keydown', _this.onKeyDown.bind(_this));\n\t\treturn _this;\n\t}\n\n\t_createClass(Player, [{\n\t\tkey: 'onKeyDown',\n\t\tvalue: function onKeyDown(event) {\n\t\t\tvar moved = false;\n\t\t\tif (event.key === 'ArrowUp') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmoved = this.moveUp();\n\t\t\t}\n\n\t\t\tif (event.key === 'ArrowRight') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmoved = this.moveRight();\n\t\t\t}\n\n\t\t\tif (event.key === 'ArrowDown') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmoved = this.moveDown();\n\t\t\t}\n\n\t\t\tif (event.key === 'ArrowLeft') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmoved = this.moveLeft();\n\t\t\t}\n\n\t\t\tif (moved) {\n\t\t\t\t_PubSub2.default.publish('playerTurnTaken');\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn Player;\n}(_Actor3.default);\n\nexports.default = Player;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _SpriteFrame = __webpack_require__(4);\n\nvar _SpriteFrame2 = _interopRequireDefault(_SpriteFrame);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Sprite = function () {\n\tfunction Sprite(frames) {\n\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t_classCallCheck(this, Sprite);\n\n\t\tthis.setFrames(frames);\n\n\t\tif (options.hasOwnProperty('size')) {\n\t\t\tthis.size = options.size;\n\t\t} else {\n\t\t\tthis.size = calculateMaximumSizeFromFrames(this.getFrames());\n\t\t}\n\n\t\tif (options.hasOwnProperty('origin')) {\n\t\t\tthis.origin = options.origin;\n\t\t}\n\n\t\tif (options.hasOwnProperty('frameIndex')) {\n\t\t\tthis.setCurrentFrameIndex(options.frameIndex);\n\t\t} else {\n\t\t\tthis.setCurrentFrameIndex(0);\n\t\t}\n\n\t\tif (options.hasOwnProperty('framesPerSecond')) {\n\t\t\tthis.setFramesPerSecond(options.framesPerSecond);\n\t\t} else {\n\t\t\tthis.setFramesPerSecond(1);\n\t\t}\n\n\t\tthis.timeOfPreviousFrame = 0;\n\t}\n\n\t_createClass(Sprite, [{\n\t\tkey: 'setFrames',\n\t\tvalue: function setFrames() {\n\t\t\tvar frames = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t\t\tif (Array.isArray(frames)) {\n\t\t\t\tthis.frames = frames;\n\t\t\t} else if (frames instanceof _SpriteFrame2.default) {\n\t\t\t\tthis.frames = [frames];\n\t\t\t} else {\n\t\t\t\tthis.frames = [];\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getFrames',\n\t\tvalue: function getFrames() {\n\t\t\treturn this.frames;\n\t\t}\n\t}, {\n\t\tkey: 'setFramesPerSecond',\n\t\tvalue: function setFramesPerSecond(framesPerSecond) {\n\t\t\tthis.framesPerSecond = framesPerSecond;\n\t\t}\n\t}, {\n\t\tkey: 'getFramesPerSecond',\n\t\tvalue: function getFramesPerSecond() {\n\t\t\treturn this.framesPerSecond;\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentFrameIndex',\n\t\tvalue: function setCurrentFrameIndex(newCurrentFrameIndex) {\n\t\t\tif (this.frames[newCurrentFrameIndex]) {\n\t\t\t\tthis.currentFrameIndex = newCurrentFrameIndex;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentFrame',\n\t\tvalue: function getCurrentFrame() {\n\t\t\treturn this.frames[this.currentFrameIndex];\n\t\t}\n\t}, {\n\t\tkey: 'draw',\n\t\tvalue: function draw(context, position) {\n\t\t\tvar currentFrame = this.getCurrentFrame();\n\n\t\t\tif (currentFrame) {\n\t\t\t\tcontext.drawImage(currentFrame.getImage(), currentFrame.getOrigin().x, currentFrame.getOrigin().y, currentFrame.getSize().width, currentFrame.getSize().height, position.x, position.y, this.size.width, this.size.height);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'step',\n\t\tvalue: function step(time) {\n\t\t\tvar framesPerSecond = this.getFramesPerSecond();\n\n\t\t\tif (framesPerSecond !== 0) {\n\t\t\t\tvar timeSincePreviousFrame = time - this.timeOfPreviousFrame;\n\n\t\t\t\tvar frameChange = timeSincePreviousFrame / (1000 / framesPerSecond);\n\n\t\t\t\tif (frameChange > 0) {\n\t\t\t\t\tframeChange = Math.floor(frameChange);\n\t\t\t\t}\n\n\t\t\t\tif (frameChange < 0) {\n\t\t\t\t\tframeChange = Math.ceil(frameChange);\n\t\t\t\t}\n\n\t\t\t\tif (frameChange !== 0) {\n\t\t\t\t\tthis.timeOfPreviousFrame = time;\n\t\t\t\t\tthis.setCurrentFrameIndex(calculateNewFrameIndexWithChange(this.currentFrameIndex, frameChange, this.frames.length));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'nextFrame',\n\t\tvalue: function nextFrame() {\n\t\t\tthis.currentFrameIndex = calculateNewFrameIndexWithChange(this.currentFrameIndex, 1, this.frames.length);\n\t\t}\n\t}, {\n\t\tkey: 'previousFrame',\n\t\tvalue: function previousFrame() {\n\t\t\tthis.currentFrameIndex = calculateNewFrameIndexWithChange(this.currentFrameIndex, -1, this.frames.length);\n\t\t}\n\t}]);\n\n\treturn Sprite;\n}();\n\nexports.default = Sprite;\n\n\nfunction calculateNewFrameIndexWithChange(currentFrameIndex, change, amountOfFrames) {\n\tchange = Math.round(change);\n\n\tif (change === 0) {\n\t\treturn currentFrameIndex;\n\t}\n\n\tvar newFrameIndex = (currentFrameIndex + change) % amountOfFrames;\n\n\tif (newFrameIndex < 0) {\n\t\treturn newFrameIndex + amountOfFrames;\n\t}\n\n\treturn newFrameIndex;\n}\n\nfunction calculateMaximumSizeFromFrames(frames) {\n\tvar biggestWidth = 0;\n\tvar biggestHeight = 0;\n\n\tframes.forEach(function (frame) {\n\t\tif (frame.size.width > biggestWidth) {\n\t\t\tbiggestWidth = frame.size.width;\n\t\t}\n\n\t\tif (frame.size.height > biggestHeight) {\n\t\t\tbiggestHeight = frame.size.height;\n\t\t}\n\t});\n\n\treturn {\n\t\twidth: biggestWidth,\n\t\theight: biggestHeight\n\t};\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Actor2 = __webpack_require__(2);\n\nvar _Actor3 = _interopRequireDefault(_Actor2);\n\nvar _SpriteAtlas = __webpack_require__(1);\n\nvar _SpriteAtlas2 = _interopRequireDefault(_SpriteAtlas);\n\nvar _PubSub = __webpack_require__(0);\n\nvar _PubSub2 = _interopRequireDefault(_PubSub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NonPlayer = function (_Actor) {\n\t_inherits(NonPlayer, _Actor);\n\n\tfunction NonPlayer(options) {\n\t\t_classCallCheck(this, NonPlayer);\n\n\t\tvar _this = _possibleConstructorReturn(this, (NonPlayer.__proto__ || Object.getPrototypeOf(NonPlayer)).call(this, options));\n\n\t\tvar spriteAtlasDefinition = '{ \"file\": \"assets/images/slime-sheet.png\", \"frames\": [ { \"name\": \"slime_idle_0\", \"origin\": { \"x\": 0, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"slime_idle_1\", \"origin\": { \"x\": 16, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } } ] }';\n\t\tvar spriteAtlas = new _SpriteAtlas2.default(JSON.parse(spriteAtlasDefinition));\n\t\tvar slimeSprite = spriteAtlas.createSpriteWithFrames(['slime_idle_0', 'slime_idle_1']);\n\n\t\tslimeSprite.setFramesPerSecond(2);\n\t\t_this.setSprite(slimeSprite);\n\t\t_this.setBoundaries({ width: 16, height: 16 });\n\n\t\t_this.setSolidity(true);\n\t\treturn _this;\n\t}\n\n\t_createClass(NonPlayer, [{\n\t\tkey: 'takeTurn',\n\t\tvalue: function takeTurn() {\n\t\t\tvar decision = Math.round(Math.random() * 11);\n\n\t\t\tif (decision === 0) {\n\t\t\t\tthis.moveUp();\n\t\t\t}\n\n\t\t\tif (decision === 1) {\n\t\t\t\tthis.moveRight();\n\t\t\t}\n\n\t\t\tif (decision === 2) {\n\t\t\t\tthis.moveDown();\n\t\t\t}\n\n\t\t\tif (decision === 3) {\n\t\t\t\tthis.moveLeft();\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn NonPlayer;\n}(_Actor3.default);\n\nexports.default = NonPlayer;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _Entity2 = __webpack_require__(3);\n\nvar _Entity3 = _interopRequireDefault(_Entity2);\n\nvar _SpriteAtlas = __webpack_require__(1);\n\nvar _SpriteAtlas2 = _interopRequireDefault(_SpriteAtlas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Wall = function (_Entity) {\n\t_inherits(Wall, _Entity);\n\n\tfunction Wall(options) {\n\t\t_classCallCheck(this, Wall);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Wall.__proto__ || Object.getPrototypeOf(Wall)).call(this, options));\n\n\t\tvar spriteAtlasDefinition = '{ \"file\": \"assets/images/wall-sheet.png\", \"frames\": [ { \"name\": \"wall_0\", \"origin\": { \"x\": 0, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } } ] }';\n\t\tvar spriteAtlas = new _SpriteAtlas2.default(JSON.parse(spriteAtlasDefinition));\n\t\tvar wallSprite = spriteAtlas.createSpriteWithFrames(['wall_0']);\n\n\t\t_this.setSprite(wallSprite);\n\t\t_this.setBoundaries({ width: 16, height: 16 });\n\n\t\t_this.setSolidity(true);\n\t\treturn _this;\n\t}\n\n\treturn Wall;\n}(_Entity3.default);\n\nexports.default = Wall;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// sorcerer.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0dab905a7038692e0b7e","const topics = new Map();\n\nexport default class PubSub {\n\tstatic subscribe(topic, callback) {\n\t\tif (!topics.has(topic)) {\n\t\t\ttopics.set(topic, []);\n\t\t}\n\n\t\tlet topicCallbacks = topics.get(topic);\n\t\ttopicCallbacks.push(callback);\n\t}\n\n\tstatic publish(topic, data) {\n\t\tif (topics.has(topic)) {\n\t\t\ttopics.get(topic).forEach((callback) => {\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\t}\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/PubSub.js","import Sprite from './Sprite';\nimport SpriteFrame from './SpriteFrame';\n\nexport default class SpriteAtlas {\n\tconstructor(definition) {\n\t\tthis.frames = createFramesFromDefinition(definition);\n\t}\n\n\tgetFrame(frameName) {\n\t\treturn this.frames.find((frame) => {\n\t\t\treturn frame.getName() === frameName;\n\t\t});\n\t}\n\n\tcreateSpriteWithFrames(frameNames) {\n\t\tlet frames = frameNames.map((frameName) => {\n\t\t\treturn this.getFrame(frameName);\n\t\t})\n\n\t\treturn new Sprite(frames);\n\t}\n}\n\nfunction createFramesFromDefinition(definition) {\n\tlet frames = [];\n\n\tif (definition.hasOwnProperty('file')) {\n\t\tlet image = new Image();\n\t\timage.src = definition.file;\n\n\t\tdefinition.frames.forEach((frameData) => {\n\t\t\tlet frame = new SpriteFrame(\n\t\t\t\tframeData.name,\n\t\t\t\timage,\n\t\t\t\tframeData.origin,\n\t\t\t\tframeData.size,\n\t\t\t);\n\n\t\t\tframes.push(frame);\n\t\t});\n\t}\n\n\treturn frames;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/SpriteAtlas.js","import Entity from './../core/Entity';\n\nexport default class Actor extends Entity {\n\tconstructor (options) {\n\t\tsuper(options);\n\t}\n\n\tmoveUp() {\n\t\tif (this.canMoveToPosition({\n\t\t\tx: this.position.x,\n\t\t\ty: this.position.y - 16\n\t\t})) {\n\t\t\tthis.changePosition({\n\t\t\t\tx: 0,\n\t\t\t\ty: -16\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tmoveRight() {\n\t\tif (this.canMoveToPosition({\n\t\t\tx: this.position.x + 16,\n\t\t\ty: this.position.y\n\t\t})) {\n\t\t\tthis.changePosition({\n\t\t\t\tx: 16,\n\t\t\t\ty: 0\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tmoveDown() {\n\t\tif (this.canMoveToPosition({\n\t\t\tx: this.position.x,\n\t\t\ty: this.position.y + 16\n\t\t})) {\n\t\t\tthis.changePosition({\n\t\t\t\tx: 0,\n\t\t\t\ty: 16\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tmoveLeft() {\n\t\tif (this.canMoveToPosition({\n\t\t\tx: this.position.x - 16,\n\t\t\ty: this.position.y\n\t\t})) {\n\t\t\tthis.changePosition({\n\t\t\t\tx: -16,\n\t\t\t\ty: 0\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcanMoveToPosition(position) {\n\t\treturn !(this.room.hasSolidEntityInBoundaries({\n\t\t\tx: position.x,\n\t\t\ty: position.y,\n\t\t\twidth: this.sprite.size.width,\n\t\t\theight: this.sprite.size.height,\n\t\t}));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/entities/Actor.js","export default class Entity {\n\tconstructor(options = {}) {\n\t\tif (options.hasOwnProperty('sprite')) {\n\t\t\tthis.setSprite(options.sprite);\n\t\t}\n\n\t\tif (options.hasOwnProperty('position')) {\n\t\t\tthis.setPosition(options.position);\n\t\t}\n\n\t\tif (options.hasOwnProperty('solid')) {\n\t\t\tthis.setSolidity(options.solid);\n\t\t}\n\n\t\tif (options.hasOwnProperty('boundaries')) {\n\t\t\tthis.setBoundaries(options.boundaries);\n\t\t}\n\n\t\tthis.context = options.context;\n\t}\n\n\tstep(time) {\n\n\t}\n\n\tsetSprite(sprite) {\n\t\tthis.sprite = sprite;\n\t}\n\n\tsetPosition(position) {\n\t\tthis.position = position;\n\t}\n\n\tgetPosition() {\n\t\treturn this.position;\n\t}\n\n\tsetSolidity(solid) {\n\t\tthis.solid = solid;\n\t}\n\n\tisSolid() {\n\t\treturn this.solid;\n\t}\n\n\tsetBoundaries(boundaries) {\n\t\tthis.boundaries = boundaries;\n\t}\n\n\tgetBoundaries() {\n\t\treturn this.boundaries;\n\t}\n\n\tchangePosition(change) {\n\t\tlet currentPosition = this.getPosition();\n\n\t\tthis.setPosition({\n\t\t\tx: currentPosition.x + change.x,\n\t\t\ty: currentPosition.y + change.y,\n\t\t});\n\t}\n\n\tisWithinBoundaries(boundaries) {\n\t\treturn (\n\t\t\tthis.position.y < boundaries.y + boundaries.height\n\t\t\t&& this.position.x + this.boundaries.width > boundaries.x\n\t\t\t&& this.position.y + this.boundaries.height > boundaries.y\n\t\t\t&& this.position.x < boundaries.x + boundaries.width\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/Entity.js","export default class SpriteFrame {\n\tconstructor(name, image, position, size) {\n\t\tthis.setName(name);\n\t\tthis.setImage(image);\n\t\tthis.setOrigin(position);\n\t\tthis.setSize(size);\n\t}\n\n\tsetName(name) {\n\t\tthis.name = name;\n\t}\n\n\tsetImage(image) {\n\t\tthis.imageLoaded = false;\n\t\tthis.image = image;\n\n\t\tthis.image.addEventListener('load', () => {\n\t\t\tthis.imageLoaded = true;\n\t\t});\n\t}\n\n\tsetOrigin(origin) {\n\t\tthis.origin = origin;\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tgetImage() {\n\t\treturn this.image;\n\t}\n\n\tgetOrigin() {\n\t\treturn this.origin;\n\t}\n\n\tgetSize() {\n\t\treturn this.size;\n\t}\n\n\tonImageLoaded(callback) {\n\t\tif (this.imageLoaded) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tthis.image.addEventListener('load', callback);\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/SpriteFrame.js","require('../style/main.scss');\n\nimport Room from './core/Room';\nimport Viewport from './core/Viewport';\n\nimport Game from './entities/Game';\nimport Player from './entities/Player';\nimport NonPlayer from './entities/NonPlayer';\nimport Wall from './entities/Wall';\n\nconst canvas = document.querySelector('.canvas__sorcerer');\n\nconst room = new Room({width: 1000, height: 500});\nroom.setBackgroundColor('#000');\n\nconst viewport = new Viewport(canvas, {x: 0, y: 0}, {width: 240, height: 160});\nviewport.showRoom(room);\n\nconst game = new Game(room);\n\ngame.setPlayer(new Player({\n\tposition: {x: 16, y: 16}\n}));\n\ngame.addNonPlayer(new NonPlayer({\n\tposition: {x: 144, y: 64}\n}));\n\ngame.addObject(new Wall({\n\tposition: {x: 48, y: 32}\n}));\n\ngame.addObject(new Wall({\n\tposition: {x: 64, y: 32}\n}));\n\ngame.addObject(new Wall({\n\tposition: {x: 64, y: 48}\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/main.js","export default class Room {\n\tconstructor(size) {\n\t\tthis.setSize(size);\n\n\t\tthis.entities = new Set();\n\t}\n\n\taddEntity(entity) {\n\t\tthis.entities.add(entity);\n\t\tentity.room = this;\n\t}\n\n\tgetEntities() {\n\t\treturn this.entities;\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\t}\n\n\tgetSize() {\n\t\treturn this.size;\n\t}\n\n\tsetBackgroundColor(backgroundColor) {\n\t\tthis.backgroundColor = backgroundColor;\n\t}\n\n\tgetBackgroundColor() {\n\t\treturn this.backgroundColor;\n\t}\n\n\tdrawBackground(context) {\n\t\tcontext.fillStyle = this.backgroundColor;\n\t\tcontext.fillRect(\n\t\t\t0,\n\t\t\t0,\n\t\t\tthis.size.width,\n\t\t\tthis.size.height\n\t\t);\n\t}\n\n\thasSolidEntityInBoundaries(boundaries) {\n\t\treturn this.findSolidEntitiesInBoundaries(boundaries).length > 0;\n\t}\n\n\tfindSolidEntitiesInBoundaries(boundaries) {\n\t\tlet entities = [];\n\n\t\tthis.entities.forEach((entity) => {\n\t\t\tif (entity.solid && entity.isWithinBoundaries(boundaries)) {\n\t\t\t\tentities.push(entity);\n\t\t\t}\n\t\t});\n\n\t\treturn entities;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/Room.js","export default class Viewport {\n\tconstructor(canvas, position, size) {\n\t\tthis.useCanvas(canvas);\n\t\tthis.position = position;\n\t\tthis.setSize(size);\n\n\t\tthis.startUpdating();\n\t}\n\n\tshowRoom(room) {\n\t\tthis.room = room;\n\t}\n\n\tuseCanvas(canvas) {\n\t\tthis.canvas = canvas;\n\t\tthis.context = canvas.getContext('2d');\n\n\t\tif (this.size) {\n\t\t\tchangeCanvasToSize(canvas, this.size);\n\t\t}\n\t}\n\n\tsetSize(size) {\n\t\tthis.size = size;\n\n\t\tif (this.canvas) {\n\t\t\tchangeCanvasToSize(this.canvas, size);\n\t\t}\n\t}\n\n\tstartUpdating() {\n\t\twindow.requestAnimationFrame(this.update.bind(this));\n\t}\n\n\tupdate(time) {\n\t\tthis.step(time);\n\t\tthis.draw(time);\n\n\t\twindow.requestAnimationFrame(this.update.bind(this));\n\t}\n\n\tstep(time) {\n\t\tthis.room.entities.forEach((entity) => {\n\t\t\tentity.step(time);\n\t\t\tentity.sprite.step(time);\n\t\t});\n\t}\n\n\tdraw(time) {\n\t\t// remove viewport drawings\n\t\tthis.clearDrawing(this.context);\n\n\t\t// draw background\n\t\tthis.room.drawBackground(this.context);\n\n\t\tthis.room.entities.forEach((entity) => {\n\t\t\tentity.sprite.draw(this.context, calculatePositionInViewportFromPositionInRoom({\n\t\t\t\tx: entity.position.x,\n\t\t\t\ty: entity.position.y\n\t\t\t}, this));\n\t\t});\n\t}\n\n\tclearDrawing(context) {\n\t\tcontext.clearRect(\n\t\t\t0,\n\t\t\t0,\n\t\t\tthis.size.width,\n\t\t\tthis.size.height\n\t\t);\n\t}\n}\n\nfunction changeCanvasToSize(canvas, size) {\n\tcanvas.width = size.width;\n\tcanvas.height = size.height;\n}\n\nfunction calculatePositionInViewportFromPositionInRoom(positionInRoom, viewport) {\n\treturn {\n\t\tx: positionInRoom.x - viewport.position.x,\n\t\ty: positionInRoom.y - viewport.position.y\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/Viewport.js","import PubSub from './../core/PubSub';\n\nexport default class Game {\n\tconstructor(room) {\n\t\tthis.room = room;\n\n\t\tthis.player;\n\t\tthis.nonPlayers = new Set();\n\t\tthis.objects = new Set();\n\n\t\tPubSub.subscribe('playerTurnTaken', this.tick.bind(this));\n\t}\n\n\ttick() {\n\t\tthis.performTurns();\n\t}\n\n\tsetPlayer(playerEntity) {\n\t\tthis.player = playerEntity;\n\n\t\tthis.room.addEntity(playerEntity);\n\t}\n\n\taddNonPlayer(nonPlayerEntity) {\n\t\tthis.nonPlayers.add(nonPlayerEntity);\n\n\t\tthis.room.addEntity(nonPlayerEntity);\n\t}\n\n\taddObject(objectEntity) {\n\t\tthis.objects.add(objectEntity);\n\n\t\tthis.room.addEntity(objectEntity);\n\t}\n\n\tperformTurns() {\n\t\tconsole.log(\"Time for turns!\");\n\t\tthis.nonPlayers.forEach((nonPlayer) => {\n\t\t\tnonPlayer.takeTurn();\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/entities/Game.js","import Actor from './Actor';\nimport SpriteAtlas from './../core/SpriteAtlas';\nimport PubSub from './../core/PubSub';\n\nexport default class Player extends Actor {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tlet spriteAtlasDefinition = '{ \"file\": \"assets/images/character-sheet.png\", \"frames\": [ { \"name\": \"player_idle_0\", \"origin\": { \"x\": 0, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_1\", \"origin\": { \"x\": 16, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_2\", \"origin\": { \"x\": 32, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_3\", \"origin\": { \"x\": 48, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, {\"name\": \"player_idle_4\", \"origin\": { \"x\": 64, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"player_idle_5\", \"origin\": { \"x\": 80, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } } ] }';\n\t\tlet spriteAtlas = new SpriteAtlas(JSON.parse(spriteAtlasDefinition));\n\t\tlet playerSprite = spriteAtlas.createSpriteWithFrames([\n\t\t\t'player_idle_0',\n\t\t\t'player_idle_0',\n\t\t\t'player_idle_0',\n\t\t\t'player_idle_0',\n\t\t\t'player_idle_0',\n\t\t\t'player_idle_1',\n\t\t\t'player_idle_2',\n\t\t\t'player_idle_3',\n\t\t\t'player_idle_3',\n\t\t\t'player_idle_3',\n\t\t\t'player_idle_3',\n\t\t\t'player_idle_4',\n\t\t\t'player_idle_5',\n\t\t]);\n\n\t\tplayerSprite.setFramesPerSecond(10);\n\t\tthis.setSprite(playerSprite);\n\t\tthis.setBoundaries({width: 16, height: 16});\n\n\t\tthis.setSolidity(true);\n\n\t\twindow.addEventListener('keydown', this.onKeyDown.bind(this));\n\t}\n\n\tonKeyDown(event) {\n\t\tlet moved = false;\n\t\tif (event.key === 'ArrowUp') {\n\t\t\tevent.preventDefault();\n\t\t\tmoved = this.moveUp();\n\t\t}\n\n\t\tif (event.key === 'ArrowRight') {\n\t\t\tevent.preventDefault();\n\t\t\tmoved = this.moveRight();\n\t\t}\n\n\t\tif (event.key === 'ArrowDown') {\n\t\t\tevent.preventDefault();\n\t\t\tmoved = this.moveDown();\n\t\t}\n\n\t\tif (event.key === 'ArrowLeft') {\n\t\t\tevent.preventDefault();\n\t\t\tmoved = this.moveLeft();\n\t\t}\n\n\t\tif (moved) {\n\t\t\tPubSub.publish('playerTurnTaken');\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/entities/Player.js","import SpriteFrame from './../core/SpriteFrame';\n\nexport default class Sprite {\n\tconstructor(frames, options = {}) {\n\t\tthis.setFrames(frames);\n\n\t\tif (options.hasOwnProperty('size')) {\n\t\t\tthis.size = options.size;\n\t\t} else {\n\t\t\tthis.size = calculateMaximumSizeFromFrames(this.getFrames());\n\t\t}\n\n\t\tif (options.hasOwnProperty('origin')) {\n\t\t\tthis.origin = options.origin;\n\t\t}\n\n\t\tif (options.hasOwnProperty('frameIndex')) {\n\t\t\tthis.setCurrentFrameIndex(options.frameIndex);\n\t\t} else {\n\t\t\tthis.setCurrentFrameIndex(0);\n\t\t}\n\n\t\tif (options.hasOwnProperty('framesPerSecond')) {\n\t\t\tthis.setFramesPerSecond(options.framesPerSecond);\n\t\t} else {\n\t\t\tthis.setFramesPerSecond(1);\n\t\t}\n\n\t\tthis.timeOfPreviousFrame = 0;\n\t}\n\n\tsetFrames(frames = []) {\n\t\tif (Array.isArray(frames)) {\n\t\t\tthis.frames = frames;\n\t\t} else if (frames instanceof SpriteFrame) {\n\t\t\tthis.frames = [frames];\n\t\t} else {\n\t\t\tthis.frames = [];\n\t\t}\n\t}\n\n\tgetFrames() {\n\t\treturn this.frames;\n\t}\n\n\tsetFramesPerSecond(framesPerSecond) {\n\t\tthis.framesPerSecond = framesPerSecond;\n\t}\n\n\tgetFramesPerSecond() {\n\t\treturn this.framesPerSecond;\n\t}\n\n\tsetCurrentFrameIndex(newCurrentFrameIndex) {\n\t\tif (this.frames[newCurrentFrameIndex]) {\n\t\t\tthis.currentFrameIndex = newCurrentFrameIndex;\n\t\t}\n\t}\n\n\tgetCurrentFrame() {\n\t\treturn this.frames[this.currentFrameIndex];\n\t}\n\n\tdraw(context, position) {\n\t\tlet currentFrame = this.getCurrentFrame();\n\n\t\tif (currentFrame) {\n\t\t\tcontext.drawImage(\n\t\t\t\tcurrentFrame.getImage(),\n\t\t\t\tcurrentFrame.getOrigin().x, currentFrame.getOrigin().y,\n\t\t\t\tcurrentFrame.getSize().width, currentFrame.getSize().height,\n\t\t\t\tposition.x, position.y,\n\t\t\t\tthis.size.width, this.size.height,\n\t\t\t);\n\t\t}\n\t}\n\n\tstep(time) {\n\t\tlet framesPerSecond = this.getFramesPerSecond();\n\n\t\tif (framesPerSecond !== 0) {\n\t\t\tlet timeSincePreviousFrame = time - this.timeOfPreviousFrame;\n\n\t\t\tlet frameChange = timeSincePreviousFrame / (1000 / framesPerSecond);\n\n\t\t\tif (frameChange > 0) {\n\t\t\t\tframeChange = Math.floor(frameChange);\n\t\t\t}\n\n\t\t\tif (frameChange < 0) {\n\t\t\t\tframeChange = Math.ceil(frameChange);\n\t\t\t}\n\n\t\t\tif (frameChange !== 0) {\n\t\t\t\tthis.timeOfPreviousFrame = time;\n\t\t\t\tthis.setCurrentFrameIndex(calculateNewFrameIndexWithChange(this.currentFrameIndex, frameChange, this.frames.length));\n\t\t\t}\n\t\t}\n\t}\n\n\tnextFrame() {\n\t\tthis.currentFrameIndex = calculateNewFrameIndexWithChange(this.currentFrameIndex, 1, this.frames.length);\n\t}\n\n\tpreviousFrame() {\n\t\tthis.currentFrameIndex = calculateNewFrameIndexWithChange(this.currentFrameIndex, -1, this.frames.length);\n\t}\n}\n\nfunction calculateNewFrameIndexWithChange(currentFrameIndex, change, amountOfFrames) {\n\tchange = Math.round(change);\n\n\tif (change === 0) {\n\t\treturn currentFrameIndex;\n\t}\n\n\tlet newFrameIndex = (currentFrameIndex + change) % amountOfFrames\n\n\tif (newFrameIndex < 0) {\n\t\treturn newFrameIndex + amountOfFrames;\n\t}\n\n\treturn newFrameIndex;\n}\n\nfunction calculateMaximumSizeFromFrames(frames) {\n\tlet biggestWidth = 0;\n\tlet biggestHeight = 0;\n\n\tframes.forEach((frame) => {\n\t\tif (frame.size.width > biggestWidth) {\n\t\t\tbiggestWidth = frame.size.width;\n\t\t}\n\n\t\tif (frame.size.height > biggestHeight) {\n\t\t\tbiggestHeight = frame.size.height;\n\t\t}\n\t});\n\n\treturn {\n\t\twidth: biggestWidth,\n\t\theight: biggestHeight,\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/core/Sprite.js","import Actor from './Actor';\nimport SpriteAtlas from './../core/SpriteAtlas';\nimport PubSub from './../core/PubSub';\n\nexport default class NonPlayer extends Actor {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tlet spriteAtlasDefinition = '{ \"file\": \"assets/images/slime-sheet.png\", \"frames\": [ { \"name\": \"slime_idle_0\", \"origin\": { \"x\": 0, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } }, { \"name\": \"slime_idle_1\", \"origin\": { \"x\": 16, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } } ] }';\n\t\tlet spriteAtlas = new SpriteAtlas(JSON.parse(spriteAtlasDefinition));\n\t\tlet slimeSprite = spriteAtlas.createSpriteWithFrames([\n\t\t\t'slime_idle_0',\n\t\t\t'slime_idle_1',\n\t\t]);\n\n\t\tslimeSprite.setFramesPerSecond(2);\n\t\tthis.setSprite(slimeSprite);\n\t\tthis.setBoundaries({width: 16, height: 16});\n\n\t\tthis.setSolidity(true);\n\t}\n\n\ttakeTurn() {\n\t\tlet decision = Math.round(Math.random() * 11);\n\n\t\tif (decision === 0) {\n\t\t\tthis.moveUp();\n\t\t}\n\n\t\tif (decision === 1) {\n\t\t\tthis.moveRight();\n\t\t}\n\n\t\tif (decision === 2) {\n\t\t\tthis.moveDown();\n\t\t}\n\n\t\tif (decision === 3) {\n\t\t\tthis.moveLeft();\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/entities/NonPlayer.js","import Entity from './../core/Entity';\nimport SpriteAtlas from './../core/SpriteAtlas';\n\nexport default class Wall extends Entity {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tlet spriteAtlasDefinition = '{ \"file\": \"assets/images/wall-sheet.png\", \"frames\": [ { \"name\": \"wall_0\", \"origin\": { \"x\": 0, \"y\": 0 }, \"size\": { \"width\": 16, \"height\": 16 } } ] }';\n\t\tlet spriteAtlas = new SpriteAtlas(JSON.parse(spriteAtlasDefinition));\n\t\tlet wallSprite = spriteAtlas.createSpriteWithFrames([\n\t\t\t'wall_0'\n\t\t]);\n\n\t\tthis.setSprite(wallSprite);\n\t\tthis.setBoundaries({width: 16, height: 16});\n\n\t\tthis.setSolidity(true);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/entities/Wall.js"],"sourceRoot":""}